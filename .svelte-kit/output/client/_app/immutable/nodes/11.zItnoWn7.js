import{p as Lt}from"../chunks/7jzuzgHU.js";import{e as zt}from"../chunks/ytTOd0rW.js";import{g as Ht}from"../chunks/CljNcLvA.js";import{d as wt,f as h,k as Rt,a as p,s as c,e as Bt,t as It,c as Kt}from"../chunks/cO8HySHN.js";import{p as pt,c as e,r as t,s as r,t as z,a as ft,g as a,A as Q,aT as Ft,j as w,J as Wt,n as Dt,u as L,f as Yt,d as qt,$ as Gt}from"../chunks/C1idHNw3.js";import{c as Jt}from"../chunks/D3t8wLcA.js";import{h as Ot}from"../chunks/Cb8UnLhs.js";import{s as Ut,a as Vt}from"../chunks/pNYLpbqL.js";import{d as Qt}from"../chunks/CG5hcr9a.js";import{i as at}from"../chunks/BscpFD2e.js";import{e as et,i as nt}from"../chunks/Ch5oqbB-.js";import{t as bt,f as kt,s as Xt}from"../chunks/BR7HuK92.js";import{r as Zt,s as X,b as Pt,c as Tt}from"../chunks/ubpBsaLu.js";import{s as vt}from"../chunks/CrtVcNaX.js";import{p as Ct}from"../chunks/SPHUI4jo.js";import{b as At}from"../chunks/DvPfNNjt.js";import{t as yt}from"../chunks/CPNLr_zG.js";const $t=({params:J})=>{const x=Ht(Lt).find(n=>n.id===J.productId);if(!x)throw zt(404,"Product not found");return{product:x}},Je=Object.freeze(Object.defineProperty({__proto__:null,load:$t},Symbol.toStringTag,{value:"Module"}));var te=Rt('<svg viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.26.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.55-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>'),ee=h('<div class="flex items-center gap-4 mt-4 pt-4 border-t border-slate-100 dark:border-slate-800"><button><span class="material-symbols-outlined text-[18px]"> </span> <span> </span></button></div>'),ae=h('<div><div class="flex justify-between items-start mb-3"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white font-bold text-sm"> </div> <div><div class="font-bold text-slate-900 dark:text-white"> </div> <div class="text-xs text-slate-500"> </div></div></div> <div class="flex text-yellow-400"></div></div> <p> </p> <!></div>');function Nt(J,s){pt(s,!0);let x=Ct(s,"compact",3,!1),n=Q(0),B=Q(!1);function K(){a(B)?(Ft(n,-1),w(B,!1)):(Ft(n),w(B,!0))}function H(R){const D=new Date(R),g=Math.abs(new Date().getTime()-D.getTime()),N=Math.ceil(g/(1e3*60*60*24));if(N<7)return`${N} day${N>1?"s":""} ago`;if(N<30){const M=Math.floor(N/7);return`${M} week${M>1?"s":""} ago`}else return D.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}var k=ae(),m=e(k),f=e(m),y=e(f),W=e(y,!0);t(y);var F=r(y,2),Y=e(F),P=e(Y,!0);t(Y);var O=r(Y,2),q=e(O,!0);t(O),t(F),t(f);var A=r(f,2);et(A,20,()=>Array(5),nt,(R,D,_)=>{var g=te();z(()=>vt(g,0,`w-4 h-4 ${_<s.review.rating?"fill-current":"text-slate-300 dark:text-slate-700 fill-current"}`)),p(R,g)}),t(A),t(m);var T=r(m,2),C=e(T,!0);t(T);var Z=r(T,2);{var U=R=>{var D=ee(),_=e(D);_.__click=K;var g=e(_),N=e(g,!0);t(g);var M=r(g,2),u=e(M);t(M),t(_),t(D),z(()=>{vt(_,1,`flex items-center gap-2 text-sm font-medium transition-colors ${a(B)?"text-primary":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`),c(N,a(B)?"thumb_up":"thumb_up_off_alt"),c(u,`Helpful ${a(n)>0?`(${a(n)})`:""}`)}),p(R,D)};at(Z,R=>{x()||R(U)})}t(k),z((R,D)=>{vt(k,1,`p-${x()?"4":"6"} bg-white dark:bg-surface-dark rounded-xl border border-slate-100 dark:border-slate-800 ${x()?"":"shadow-sm"}`),c(W,R),c(P,s.review.user),c(q,D),vt(T,1,`text-slate-700 dark:text-slate-300 leading-relaxed ${x()?"text-sm":""}`),c(C,s.review.comment)},[()=>s.review.user.charAt(0).toUpperCase(),()=>H(s.review.date)]),bt(3,k,()=>kt),p(J,k),ft()}wt(["click"]);var re=h('<button type="button" class="group focus:outline-none" role="radio"><svg viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.26.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.55-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg></button>'),se=h('<p class="text-sm text-slate-500 mt-2"> </p>'),ie=h('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> Submitting...',1),le=h('<form class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800 p-6 space-y-6"><div><h3 class="text-xl font-bold text-slate-900 dark:text-white mb-2">Write a Review</h3> <p class="text-sm text-slate-500"> </p></div> <div><label for="rating-group" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Your Rating *</label> <div class="flex gap-2" role="radiogroup" aria-labelledby="rating-group" id="rating-group"></div> <!></div> <div><label for="reviewer-name" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Your Name *</label> <input id="reviewer-name" type="text" required placeholder="John Doe" class="w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"/></div> <div><label for="review-comment" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Your Review *</label> <textarea id="review-comment" required rows="5" placeholder="Share your experience with this product..." class="w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all resize-none"></textarea> <p class="text-xs text-slate-500 mt-1"> </p></div> <div class="flex gap-3 pt-2"><button type="submit" class="flex-1 bg-primary text-white font-bold py-3 px-6 rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"><!></button></div></form>');function Et(J,s){pt(s,!0);let x=Ct(s,"onSubmit",3,()=>{}),n=Q(0),B=Q(0),K=Q(""),H=Q(""),k=Q(!1);async function m(u){if(u.preventDefault(),a(n)===0){yt.add("Please select a rating","error");return}if(!a(K).trim()){yt.add("Please enter your name","error");return}if(!a(H).trim()){yt.add("Please write a review","error");return}w(k,!0),await new Promise(E=>setTimeout(E,1500)),yt.add("Review submitted successfully!","success"),w(n,0),w(K,""),w(H,""),w(k,!1),x()()}var f=le(),y=e(f),W=r(e(y),2),F=e(W);t(W),t(y);var Y=r(y,2),P=r(e(Y),2);et(P,20,()=>Array(5),nt,(u,E,S)=>{var j=re();j.__click=()=>w(n,S+1),X(j,"aria-label",`${S+1} star${S>0?"s":""}`);var dt=e(j);t(j),z(()=>{X(j,"aria-checked",a(n)===S+1),vt(dt,0,`w-10 h-10 transition-all ${S<(a(B)||a(n))?"text-yellow-400 fill-current scale-110":"text-slate-300 dark:text-slate-700 fill-current"}`)}),Bt("mouseenter",j,()=>w(B,S+1)),Bt("mouseleave",j,()=>w(B,0)),p(u,j)}),t(P);var O=r(P,2);{var q=u=>{var E=se(),S=e(E,!0);t(E),z(()=>c(S,a(n)===1?"Poor":a(n)===2?"Fair":a(n)===3?"Good":a(n)===4?"Very Good":"Excellent")),bt(3,E,()=>Xt),p(u,E)};at(O,u=>{a(n)>0&&u(q)})}t(Y);var A=r(Y,2),T=r(e(A),2);Zt(T),t(A);var C=r(A,2),Z=r(e(C),2);Wt(Z);var U=r(Z,2),R=e(U);t(U),t(C);var D=r(C,2),_=e(D),g=e(_);{var N=u=>{var E=ie();Dt(),p(u,E)},M=u=>{var E=It("Submit Review");p(u,E)};at(g,u=>{a(k)?u(N):u(M,!1)})}t(_),t(D),t(f),z(()=>{c(F,`for ${s.productName??""}`),c(R,`${a(H).length??""} / 500 characters`),_.disabled=a(k)}),Bt("submit",f,m),At(T,()=>a(K),u=>w(K,u)),At(Z,()=>a(H),u=>w(H,u)),bt(3,f,()=>kt),p(J,f),ft()}wt(["click"]);var de=Rt('<svg viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.26.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.55-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>'),oe=h('<div class="flex items-center gap-2"><span class="text-xs text-slate-600 dark:text-slate-400 w-6"> </span> <div class="flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"><div class="h-full bg-yellow-400 transition-all duration-300"></div></div> <span class="text-xs text-slate-500 w-8 text-right"> </span></div>'),ve=h("<div><!></div>"),ne=h('<div class="flex items-center justify-between"><h3 class="font-bold text-slate-900 dark:text-white"> </h3> <select class="text-sm px-3 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none"><option>Most Recent</option><option>Highest Rated</option><option>Lowest Rated</option></select></div>'),ce=h('<div class="text-center py-12"><span class="material-symbols-outlined text-slate-300 dark:text-slate-700 text-[64px]">rate_review</span> <p class="text-slate-500 mt-4">No reviews yet. Be the first to review!</p></div>'),ue=h('<div class="space-y-4"></div>'),xe=h('<div class="flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-6"><div class="sticky top-16 z-40 bg-white dark:bg-surface-dark border-b border-slate-100 dark:border-slate-800 px-4 py-4"><a class="flex items-center gap-2 text-slate-600 dark:text-slate-400 mb-3"><span class="material-symbols-outlined">arrow_back</span> <span class="text-sm font-medium">Back to Product</span></a> <h1 class="text-xl font-bold text-slate-900 dark:text-white">Customer Reviews</h1></div> <div class="p-4 bg-white dark:bg-surface-dark border-b border-slate-100 dark:border-slate-800"><div class="flex gap-4"><div class="w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden shrink-0"><img class="w-full h-full object-cover"/></div> <div class="flex-1 min-w-0"><h2 class="font-bold text-slate-900 dark:text-white line-clamp-2 mb-1"> </h2> <p class="text-sm font-bold text-primary"> </p></div></div></div> <div class="p-4 space-y-4"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl border border-slate-100 dark:border-slate-800"><div class="flex items-center gap-6"><div class="text-center"><div class="text-5xl font-bold text-slate-900 dark:text-white mb-1"> </div> <div class="flex text-yellow-400 mb-2"></div> <div class="text-xs text-slate-500"> </div></div> <div class="flex-1 space-y-1.5"></div></div></div> <button class="w-full py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 flex items-center justify-center gap-2"><span class="material-symbols-outlined text-[20px]">edit</span> <span> </span></button> <!> <!> <!></div></div>');function me(J,s){pt(s,!0);let x=Q(!1),n=Q("recent");const B=L(()=>()=>{const d=[...s.product.reviews];return a(n)==="highest"?d.sort((o,b)=>b.rating-o.rating):a(n)==="lowest"?d.sort((o,b)=>o.rating-b.rating):d.sort((o,b)=>new Date(b.date).getTime()-new Date(o.date).getTime())});function K(d){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(d)}function H(){const d={5:0,4:0,3:0,2:0,1:0};return s.product.reviews.forEach(o=>{d[o.rating]++}),d}const k=L(H),m=L(()=>s.product.reviews.length);var f=xe(),y=e(f),W=e(y);Dt(2),t(y);var F=r(y,2),Y=e(F),P=e(Y),O=e(P);t(P);var q=r(P,2),A=e(q),T=e(A,!0);t(A);var C=r(A,2),Z=e(C,!0);t(C),t(q),t(Y),t(F);var U=r(F,2),R=e(U),D=e(R),_=e(D),g=e(_),N=e(g,!0);t(g);var M=r(g,2);et(M,20,()=>Array(5),nt,(d,o,b)=>{var G=de();z(V=>vt(G,0,`w-4 h-4 ${V??""}`),[()=>b<Math.floor(s.product.rating)?"fill-current":"text-slate-300 dark:text-slate-700 fill-current"]),p(d,G)}),t(M);var u=r(M,2),E=e(u);t(u),t(_);var S=r(_,2);et(S,20,()=>[5,4,3,2,1],nt,(d,o)=>{const b=L(()=>a(k)[o]),G=L(()=>a(m)>0?a(b)/a(m)*100:0);var V=oe(),$=e(V),lt=e($);t($);var i=r($,2),l=e(i);t(i);var v=r(i,2),I=e(v,!0);t(v),t(V),z(()=>{c(lt,`${o??""}★`),Tt(l,`width: ${a(G)??""}%`),c(I,a(b))}),p(d,V)}),t(S),t(D),t(R);var j=r(R,2);j.__click=()=>w(x,!a(x));var dt=r(e(j),2),rt=e(dt,!0);t(dt),t(j);var mt=r(j,2);{var ct=d=>{var o=ve(),b=e(o);Et(b,{get productId(){return s.product.id},get productName(){return s.product.name},onSubmit:()=>w(x,!1)}),t(o),bt(1,o,()=>kt),p(d,o)};at(mt,d=>{a(x)&&d(ct)})}var ot=r(mt,2);{var gt=d=>{var o=ne(),b=e(o),G=e(b);t(b);var V=r(b,2),$=e(V);$.value=$.__value="recent";var lt=r($);lt.value=lt.__value="highest";var i=r(lt);i.value=i.__value="lowest",t(V),t(o),z(()=>c(G,`All Reviews (${a(m)??""})`)),Pt(V,()=>a(n),l=>w(n,l)),p(d,o)};at(ot,d=>{!a(x)&&a(m)>0&&d(gt)})}var st=r(ot,2);{var it=d=>{var o=ce();p(d,o)},ht=d=>{var o=ue();et(o,21,()=>a(B)(),b=>b.id,(b,G)=>{Nt(b,{get review(){return a(G)}})}),t(o),p(d,o)};at(st,d=>{a(m)===0?d(it):d(ht,!1)})}t(U),t(f),z((d,o)=>{X(W,"href",`/products/${s.product.id??""}`),X(O,"src",s.product.image),X(O,"alt",s.product.name),c(T,s.product.name),c(Z,d),c(N,o),c(E,`${a(m)??""} reviews`),c(rt,a(x)?"Cancel":"Write a Review")},[()=>K(s.product.price),()=>s.product.rating.toFixed(1)]),p(J,f),ft()}wt(["click"]);var be=Rt('<svg viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.26.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.55-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>'),pe=h('<div class="flex items-center gap-3"><span class="text-sm text-slate-600 dark:text-slate-400 w-8"> </span> <div class="flex-1 h-3 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"><div class="h-full bg-yellow-400 transition-all duration-300"></div></div> <span class="text-sm text-slate-500 w-10 text-right"> </span></div>'),fe=h("<div><!></div>"),ge=h('<div class="text-center py-16 bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800"><span class="material-symbols-outlined text-slate-300 dark:text-slate-700 text-[80px]">rate_review</span> <p class="text-slate-500 mt-4 text-lg">No reviews yet. Be the first to review!</p></div>'),he=h('<div class="space-y-4"></div>'),_e=h('<div class="min-h-screen bg-background-light dark:bg-background-dark py-8 px-6 lg:px-8"><div class="max-w-7xl mx-auto"><nav class="flex mb-8 text-sm text-slate-500"><a href="/" class="hover:text-primary transition-colors">Home</a> <span class="mx-2">/</span> <a href="/catalog" class="hover:text-primary transition-colors">Catalog</a> <span class="mx-2">/</span> <a class="hover:text-primary transition-colors"> </a> <span class="mx-2">/</span> <span class="text-slate-900 dark:text-white">Reviews</span></nav> <div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 mb-8"><div class="flex items-center gap-6"><div class="w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-xl overflow-hidden shrink-0"><img class="w-full h-full object-cover"/></div> <div class="flex-1"><h1 class="text-2xl font-bold text-slate-900 dark:text-white mb-2"> </h1> <p class="text-lg font-bold text-primary"> </p></div> <a class="px-6 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-200 dark:hover:bg-slate-700 transition-all">Back to Product</a></div></div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-1 space-y-6"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 sticky top-24"><h2 class="font-bold text-slate-900 dark:text-white mb-6">Rating Summary</h2> <div class="text-center mb-6 pb-6 border-b border-slate-200 dark:border-slate-700"><div class="text-6xl font-bold text-slate-900 dark:text-white mb-2"> </div> <div class="flex justify-center text-yellow-400 mb-3"></div> <div class="text-sm text-slate-500"> </div></div> <div class="space-y-3"></div> <button class="w-full mt-6 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 flex items-center justify-center gap-2"><span class="material-symbols-outlined text-[20px]">edit</span> <span>Write a Review</span></button></div></div> <div class="lg:col-span-2 space-y-6"><!> <div class="flex items-center justify-between bg-white dark:bg-surface-dark p-4 rounded-xl border border-slate-100 dark:border-slate-800"><h3 class="font-bold text-slate-900 dark:text-white"> </h3> <select class="px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none"><option>Most Recent</option><option>Highest Rated</option><option>Lowest Rated</option></select></div> <!></div></div></div></div>');function we(J,s){pt(s,!0);let x=Q(!1),n=Q("recent");const B=L(()=>()=>{const i=[...s.product.reviews];return a(n)==="highest"?i.sort((l,v)=>v.rating-l.rating):a(n)==="lowest"?i.sort((l,v)=>l.rating-v.rating):i.sort((l,v)=>new Date(v.date).getTime()-new Date(l.date).getTime())});function K(i){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(i)}function H(){const i={5:0,4:0,3:0,2:0,1:0};return s.product.reviews.forEach(l=>{i[l.rating]++}),i}const k=L(H),m=L(()=>s.product.reviews.length);var f=_e(),y=e(f),W=e(y),F=r(e(W),8),Y=e(F,!0);t(F),Dt(4),t(W);var P=r(W,2),O=e(P),q=e(O),A=e(q);t(q);var T=r(q,2),C=e(T),Z=e(C,!0);t(C);var U=r(C,2),R=e(U,!0);t(U),t(T);var D=r(T,2);t(O),t(P);var _=r(P,2),g=e(_),N=e(g),M=r(e(N),2),u=e(M),E=e(u,!0);t(u);var S=r(u,2);et(S,20,()=>Array(5),nt,(i,l,v)=>{var I=be();z(tt=>vt(I,0,`w-6 h-6 ${tt??""}`),[()=>v<Math.floor(s.product.rating)?"fill-current":"text-slate-300 dark:text-slate-700 fill-current"]),p(i,I)}),t(S);var j=r(S,2),dt=e(j);t(j),t(M);var rt=r(M,2);et(rt,20,()=>[5,4,3,2,1],nt,(i,l)=>{const v=L(()=>a(k)[l]),I=L(()=>a(m)>0?a(v)/a(m)*100:0);var tt=pe(),ut=e(tt),Mt=e(ut);t(ut);var xt=r(ut,2),St=e(xt);t(xt);var _t=r(xt,2),jt=e(_t,!0);t(_t),t(tt),z(()=>{c(Mt,`${l??""} ★`),Tt(St,`width: ${a(I)??""}%`),c(jt,a(v))}),p(i,tt)}),t(rt);var mt=r(rt,2);mt.__click=()=>w(x,!a(x)),t(N),t(g);var ct=r(g,2),ot=e(ct);{var gt=i=>{var l=fe(),v=e(l);Et(v,{get productId(){return s.product.id},get productName(){return s.product.name},onSubmit:()=>w(x,!1)}),t(l),bt(1,l,()=>kt),p(i,l)};at(ot,i=>{a(x)&&i(gt)})}var st=r(ot,2),it=e(st),ht=e(it);t(it);var d=r(it,2),o=e(d);o.value=o.__value="recent";var b=r(o);b.value=b.__value="highest";var G=r(b);G.value=G.__value="lowest",t(d),t(st);var V=r(st,2);{var $=i=>{var l=ge();p(i,l)},lt=i=>{var l=he();et(l,21,()=>a(B)(),v=>v.id,(v,I)=>{Nt(v,{get review(){return a(I)}})}),t(l),p(i,l)};at(V,i=>{a(m)===0?i($):i(lt,!1)})}t(ct),t(_),t(y),t(f),z((i,l)=>{X(F,"href",`/products/${s.product.id??""}`),c(Y,s.product.name),X(A,"src",s.product.image),X(A,"alt",s.product.name),c(Z,s.product.name),c(R,i),X(D,"href",`/products/${s.product.id??""}`),c(E,l),c(dt,`Based on ${a(m)??""} review${a(m)!==1?"s":""}`),c(ht,`All Reviews (${a(m)??""})`)},[()=>K(s.product.price),()=>s.product.rating.toFixed(1)]),Pt(d,()=>a(n),i=>w(n,i)),p(J,f),ft()}wt(["click"]);var ke=Rt('<svg viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.26.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.55-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>'),ye=h('<div class="flex items-center gap-3"><span class="text-sm text-slate-600 dark:text-slate-400 w-8"> </span> <div class="flex-1 h-3 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"><div class="h-full bg-yellow-400 transition-all duration-300"></div></div> <span class="text-sm text-slate-500 w-10 text-right"> </span></div>'),Re=h("<div><!></div>"),De=h('<div class="text-center py-16 bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800"><span class="material-symbols-outlined text-slate-300 dark:text-slate-700 text-[80px]">rate_review</span> <p class="text-slate-500 mt-4 text-lg">No reviews yet. Be the first to review!</p></div>'),Me=h('<div class="space-y-4"></div>'),Se=h('<div class="min-h-screen bg-background-light dark:bg-background-dark py-8 px-6 lg:px-8"><div class="max-w-7xl mx-auto"><nav class="flex mb-8 text-sm text-slate-500"><a href="/" class="hover:text-primary transition-colors">Home</a> <span class="mx-2">/</span> <a href="/catalog" class="hover:text-primary transition-colors">Catalog</a> <span class="mx-2">/</span> <a class="hover:text-primary transition-colors"> </a> <span class="mx-2">/</span> <span class="text-slate-900 dark:text-white">Reviews</span></nav> <div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 mb-8"><div class="flex items-center gap-6"><div class="w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-xl overflow-hidden shrink-0"><img class="w-full h-full object-cover"/></div> <div class="flex-1"><h1 class="text-2xl font-bold text-slate-900 dark:text-white mb-2"> </h1> <p class="text-lg font-bold text-primary"> </p></div> <a class="px-6 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium rounded-xl hover:bg-slate-200 dark:hover:bg-slate-700 transition-all">Back to Product</a></div></div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-1 space-y-6"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 sticky top-24"><h2 class="font-bold text-slate-900 dark:text-white mb-6">Rating Summary</h2> <div class="text-center mb-6 pb-6 border-b border-slate-200 dark:border-slate-700"><div class="text-6xl font-bold text-slate-900 dark:text-white mb-2"> </div> <div class="flex justify-center text-yellow-400 mb-3"></div> <div class="text-sm text-slate-500"> </div></div> <div class="space-y-3"></div> <button class="w-full mt-6 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 flex items-center justify-center gap-2"><span class="material-symbols-outlined text-[20px]">edit</span> <span>Write a Review</span></button></div></div> <div class="lg:col-span-2 space-y-6"><!> <div class="flex items-center justify-between bg-white dark:bg-surface-dark p-4 rounded-xl border border-slate-100 dark:border-slate-800"><h3 class="font-bold text-slate-900 dark:text-white"> </h3> <select class="px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none"><option>Most Recent</option><option>Highest Rated</option><option>Lowest Rated</option></select></div> <!></div></div></div></div>');function je(J,s){pt(s,!0);let x=Q(!1),n=Q("recent");const B=L(()=>()=>{const i=[...s.product.reviews];return a(n)==="highest"?i.sort((l,v)=>v.rating-l.rating):a(n)==="lowest"?i.sort((l,v)=>l.rating-v.rating):i.sort((l,v)=>new Date(v.date).getTime()-new Date(l.date).getTime())});function K(i){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(i)}function H(){const i={5:0,4:0,3:0,2:0,1:0};return s.product.reviews.forEach(l=>{i[l.rating]++}),i}const k=L(H),m=L(()=>s.product.reviews.length);var f=Se(),y=e(f),W=e(y),F=r(e(W),8),Y=e(F,!0);t(F),Dt(4),t(W);var P=r(W,2),O=e(P),q=e(O),A=e(q);t(q);var T=r(q,2),C=e(T),Z=e(C,!0);t(C);var U=r(C,2),R=e(U,!0);t(U),t(T);var D=r(T,2);t(O),t(P);var _=r(P,2),g=e(_),N=e(g),M=r(e(N),2),u=e(M),E=e(u,!0);t(u);var S=r(u,2);et(S,20,()=>Array(5),nt,(i,l,v)=>{var I=ke();z(tt=>vt(I,0,`w-6 h-6 ${tt??""}`),[()=>v<Math.floor(s.product.rating)?"fill-current":"text-slate-300 dark:text-slate-700 fill-current"]),p(i,I)}),t(S);var j=r(S,2),dt=e(j);t(j),t(M);var rt=r(M,2);et(rt,20,()=>[5,4,3,2,1],nt,(i,l)=>{const v=L(()=>a(k)[l]),I=L(()=>a(m)>0?a(v)/a(m)*100:0);var tt=ye(),ut=e(tt),Mt=e(ut);t(ut);var xt=r(ut,2),St=e(xt);t(xt);var _t=r(xt,2),jt=e(_t,!0);t(_t),t(tt),z(()=>{c(Mt,`${l??""} ★`),Tt(St,`width: ${a(I)??""}%`),c(jt,a(v))}),p(i,tt)}),t(rt);var mt=r(rt,2);mt.__click=()=>w(x,!a(x)),t(N),t(g);var ct=r(g,2),ot=e(ct);{var gt=i=>{var l=Re(),v=e(l);Et(v,{get productId(){return s.product.id},get productName(){return s.product.name},onSubmit:()=>w(x,!1)}),t(l),bt(1,l,()=>kt),p(i,l)};at(ot,i=>{a(x)&&i(gt)})}var st=r(ot,2),it=e(st),ht=e(it);t(it);var d=r(it,2),o=e(d);o.value=o.__value="recent";var b=r(o);b.value=b.__value="highest";var G=r(b);G.value=G.__value="lowest",t(d),t(st);var V=r(st,2);{var $=i=>{var l=De();p(i,l)},lt=i=>{var l=Me();et(l,21,()=>a(B)(),v=>v.id,(v,I)=>{Nt(v,{get review(){return a(I)}})}),t(l),p(i,l)};at(V,i=>{a(m)===0?i($):i(lt,!1)})}t(ct),t(_),t(y),t(f),z((i,l)=>{X(F,"href",`/products/${s.product.id??""}`),c(Y,s.product.name),X(A,"src",s.product.image),X(A,"alt",s.product.name),c(Z,s.product.name),c(R,i),X(D,"href",`/products/${s.product.id??""}`),c(E,l),c(dt,`Based on ${a(m)??""} review${a(m)!==1?"s":""}`),c(ht,`All Reviews (${a(m)??""})`)},[()=>K(s.product.price),()=>s.product.rating.toFixed(1)]),Pt(d,()=>a(n),i=>w(n,i)),p(J,f),ft()}wt(["click"]);function Oe(J,s){pt(s,!0);const x=()=>Vt(Qt,"$device",n),[n,B]=Ut(),K={mobile:me,tablet:we,desktop:je},H=L(()=>K[x()]);var k=Kt();Ot("1ery3wx",f=>{qt(()=>{Gt.title=`${s.data.product.name??""} - Reviews | Elora Tech`})});var m=Yt(k);Jt(m,()=>a(H),(f,y)=>{y(f,{get product(){return s.data.product}})}),p(J,k),ft(),B()}export{Oe as component,Je as universal};
