import{f as x,s as w,a as n,d as Xe,e as ea,c as Ee,t as la}from"../chunks/cO8HySHN.js";import{p as Ze,j as u,A as O,g as r,c as a,s as t,r as e,n as ee,t as V,a as Ge,u as Ve,f as Me,I as Je,e as sa,$ as da}from"../chunks/C1idHNw3.js";import{c as ia}from"../chunks/D3t8wLcA.js";import{h as oa}from"../chunks/Cb8UnLhs.js";import{s as Qe,a as We}from"../chunks/pNYLpbqL.js";import{d as na}from"../chunks/CG5hcr9a.js";import{i as R}from"../chunks/BscpFD2e.js";import{t as ae,f as he,s as He}from"../chunks/BR7HuK92.js";import{r as ze,s as Ue}from"../chunks/ubpBsaLu.js";import{s as je}from"../chunks/CrtVcNaX.js";import{a as Ye}from"../chunks/DvPfNNjt.js";import{c as Ke,a as aa}from"../chunks/hrNWNbyE.js";import"../chunks/C3NHDcnv.js";import"../chunks/B17Q6ahh.js";import{F as f}from"../chunks/D2FKZDcc.js";import{o as va}from"../chunks/COV5WMI3.js";import{b as ca}from"../chunks/C4POhpH1.js";import{p as ra}from"../chunks/SPHUI4jo.js";import{t as ne}from"../chunks/CPNLr_zG.js";import{e as Be,i as Re}from"../chunks/Ch5oqbB-.js";var ua=x('<div class="absolute inset-0 flex items-center justify-center bg-slate-100 dark:bg-slate-800 rounded-xl"><div class="text-center"><div class="w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-2"></div> <p class="text-sm text-slate-500">Loading map...</p></div></div>'),pa=x('<div class="w-full h-full relative"><div class="w-full h-full rounded-xl overflow-hidden"></div> <!> <div class="absolute bottom-4 left-4 right-4 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700"><div class="flex items-start gap-2"><span class="material-symbols-outlined text-primary text-[20px] shrink-0 mt-1">location_on</span> <div class="flex-1 min-w-0"><p class="text-xs font-medium text-slate-600 dark:text-slate-400 mb-1">Selected Location</p> <p class="text-sm text-slate-900 dark:text-white font-medium line-clamp-2"> </p></div></div> <p class="text-xs text-slate-500 mt-2">Drag marker or tap map to change location</p></div></div>');function ta(_e,ve){Ze(ve,!0);let q=ra(ve,"initialLocation",19,()=>({lat:-1.286389,lng:36.817223})),me=ra(ve,"onLocationSelect",3,(h,S,P)=>{}),le,se,A,d=O(!1),l=O("Select location on map");va(async()=>{const h=document.createElement("link");h.rel="stylesheet",h.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",h.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",h.crossOrigin="",document.head.appendChild(h);const S=document.createElement("script");S.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",S.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",S.crossOrigin="",document.head.appendChild(S),S.onload=()=>{const P=window.L;se=P.map(le).setView([q().lat,q().lng],13),P.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19}).addTo(se),A=P.marker([q().lat,q().lng],{draggable:!0}).addTo(se),A.on("dragend",async function(){const L=A.getLatLng();await N(L.lat,L.lng)}),se.on("click",async function(L){A.setLatLng(L.latlng),await N(L.latlng.lat,L.latlng.lng)}),u(d,!0),N(q().lat,q().lng)}});async function N(h,S){try{const L=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${h}&lon=${S}`)).json();u(l,L.display_name||`${h.toFixed(4)}, ${S.toFixed(4)}`,!0),me()(h,S,r(l))}catch(P){console.error("Geocoding error:",P),u(l,`${h.toFixed(4)}, ${S.toFixed(4)}`),me()(h,S,r(l))}}var W=pa(),T=a(W);ca(T,h=>le=h,()=>le);var H=t(T,2);{var ce=h=>{var S=ua();ae(3,S,()=>he),n(h,S)};R(H,h=>{r(d)||h(ce)})}var te=t(H,2),K=a(te),Se=t(a(K),2),xe=t(a(Se),2),Ne=a(xe,!0);e(xe),e(Se),e(K),ee(2),e(te),e(W),V(()=>w(Ne,r(l))),n(_e,W),Ge()}var ba=x(`<div class="flex flex-col gap-6 p-4"><div class="w-full h-64 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700"><!></div> <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 flex items-start gap-2"><span class="material-symbols-outlined text-blue-600 dark:text-blue-400 text-[20px]">info</span> <p class="text-xs text-blue-700 dark:text-blue-300 leading-relaxed">Distance fee applied. The further the location, the higher
                    the delivery cost.</p></div> <form class="space-y-4"><h2 class="font-bold text-lg text-slate-900 dark:text-white">Delivery Location</h2> <!> <!> <div class="grid grid-cols-2 gap-3"><!> <!></div> <!> <!> <!> <button type="submit" class="w-full mt-6 py-4 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95">Continue to Payment</button></form></div>`),ma=x('<div class="p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-700"><!></div>'),xa=x('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> Processing...',1),fa=x('<span>Place Order</span> <span class="material-symbols-outlined text-[20px]">arrow_forward</span>',1),ga=x('<div class="flex flex-col gap-6 p-4"><h2 class="font-bold text-lg text-slate-900 dark:text-white">Payment Method</h2> <div class="space-y-3"><label><input type="radio" name="payment" class="w-5 h-5 text-primary focus:ring-primary"/> <div class="flex-1 flex items-center justify-between"><div><div class="font-bold text-slate-900 dark:text-white">M-Pesa</div> <div class="text-xs text-slate-500">Pay via mobile money</div></div> <div class="w-12 h-8 bg-green-600 rounded flex items-center justify-center text-white font-bold text-xs">M</div></div></label> <label><input type="radio" name="payment" class="w-5 h-5 text-primary focus:ring-primary"/> <div class="flex-1"><div class="font-bold text-slate-900 dark:text-white">Cash at Pick-up Point</div> <div class="text-xs text-slate-500">Pay on delivery</div></div></label></div> <!> <div class="bg-white dark:bg-surface-dark p-4 rounded-xl border border-slate-100 dark:border-slate-800 space-y-3"><div class="flex justify-between text-sm"><span class="text-slate-600 dark:text-slate-400">Subtotal</span> <span class="font-medium text-slate-900 dark:text-white"> </span></div> <div class="flex justify-between text-sm"><span class="text-slate-600 dark:text-slate-400">Delivery Fee (Est.)</span> <span class="font-medium text-slate-900 dark:text-white"> </span></div> <div class="border-t border-slate-200 dark:border-slate-700 pt-3"><div class="flex justify-between"><span class="font-bold text-lg text-slate-900 dark:text-white">TOTAL AMOUNT</span> <span class="font-bold text-xl text-primary"> </span></div></div></div> <div class="flex gap-3 mt-4"><button class="px-6 py-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-bold rounded-xl transition-all active:scale-95">Back</button> <button class="flex-1 py-4 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2"><!></button></div></div>'),ha=x('<div class="flex flex-col items-center justify-center p-8 text-center"><div class="w-20 h-20 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-6"><span class="material-symbols-outlined text-green-600 dark:text-green-400 text-[48px]">check_circle</span></div> <h1 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Order Confirmed!</h1> <p class="text-slate-500 mb-6"> </p> <a href="/" class="w-full py-4 bg-primary text-white font-bold rounded-xl shadow-lg hover:bg-primary/90 transition-all">Continue Shopping</a></div>'),_a=x('<div class="flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24"><div class="sticky top-16 z-40 bg-white dark:bg-surface-dark border-b border-slate-100 dark:border-slate-800 px-4 py-4"><h1 class="text-xl font-bold text-slate-900 dark:text-white">Checkout</h1></div> <!></div>');function ya(_e,ve){Ze(ve,!0);const q=()=>We(aa,"$cartTotal",me),[me,le]=Qe(),se=[];let A=O("shipping"),d={name:"",email:"",road:"",house:"",apt:"",landmark:"",phone:"",lat:-1.286389,lng:36.817223,address:""},l=O("mpesa"),N=O(""),W=O(!1),T=O(""),H=O(860);function ce(P){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(P)}function te(P,L,ue){d.lat=P,d.lng=L,d.address=ue;const g=Math.sqrt(Math.pow(P- -1.286389,2)+Math.pow(L-36.817223,2));u(H,Math.round(500+g*1e3),!0)}function K(P){P.preventDefault(),d.name&&d.email&&d.road&&d.phone?(u(A,"payment"),u(N,d.phone,!0),ne.add("Shipping details saved","success")):ne.add("Please fill in all required fields","error")}function Se(){u(W,!0),ne.add("Processing payment...","info"),setTimeout(()=>{u(W,!1),u(T,"ORD-"+Math.floor(Math.random()*1e5)),u(A,"confirmation"),Ke.set([]),ne.add("Order placed successfully!","success")},2e3)}var xe=_a(),Ne=t(a(xe),2);{var h=P=>{var L=ba(),ue=a(L),p=a(ue);{let C=Ve(()=>({lat:d.lat,lng:d.lng}));ta(p,{get initialLocation(){return r(C)},onLocationSelect:te})}e(ue);var _=t(ue,4),g=t(a(_),2);f(g,{label:"Place Name",placeholder:"e.g. Westlands Center",required:!0,get value(){return d.name},set value(C){d.name=C}});var j=t(g,2);f(j,{label:"Road / Street",placeholder:"e.g. Waiyaki Way",required:!0,get value(){return d.road},set value(C){d.road=C}});var z=t(j,2),E=a(z);f(E,{label:"House / Building",placeholder:"No. 4B",get value(){return d.house},set value(C){d.house=C}});var B=t(E,2);f(B,{label:"Apartment Unit",placeholder:"Flr 2",get value(){return d.apt},set value(C){d.apt=C}}),e(z);var U=t(z,2);f(U,{label:"Landmark (Optional)",placeholder:"e.g. Near the Shell Station",get value(){return d.landmark},set value(C){d.landmark=C}});var re=t(U,2);f(re,{label:"Email Address",type:"email",required:!0,get value(){return d.email},set value(C){d.email=C}});var fe=t(re,2);f(fe,{label:"Phone Number",type:"tel",placeholder:"+254 712 345 678",required:!0,get value(){return d.phone},set value(C){d.phone=C}}),ee(2),e(_),e(L),ea("submit",_,K),ae(1,L,()=>he),n(P,L)},S=P=>{var L=Ee(),ue=Me(L);{var p=g=>{var j=ga(),z=t(a(j),2),E=a(z),B=a(E);ze(B),B.value=B.__value="mpesa",ee(2),e(E);var U=t(E,2),re=a(U);ze(re),re.value=re.__value="cod",ee(2),e(U),e(z);var fe=t(z,2);{var C=s=>{var o=ma(),M=a(o);f(M,{label:"M-PESA PHONE NUMBER",type:"tel",placeholder:"+254 712 345 678",get value(){return r(N)},set value(I){u(N,I,!0)}}),e(o),ae(1,o,()=>He),n(s,o)};R(fe,s=>{r(l)==="mpesa"&&s(C)})}var ye=t(fe,2),pe=a(ye),ge=t(a(pe),2),ke=a(ge,!0);e(ge),e(pe);var we=t(pe,2),Ie=t(a(we),2),De=a(Ie,!0);e(Ie),e(we);var Le=t(we,2),Fe=a(Le),Ce=t(a(Fe),2),Oe=a(Ce,!0);e(Ce),e(Fe),e(Le),e(ye);var Ae=t(ye,2),y=a(Ae);y.__click=()=>u(A,"shipping");var i=t(y,2);i.__click=Se;var b=a(i);{var $=s=>{var o=xa();ee(),n(s,o)},k=s=>{var o=fa();ee(2),n(s,o)};R(b,s=>{r(W)?s($):s(k,!1)})}e(i),e(Ae),e(j),V((s,o,M)=>{je(E,1,`flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${r(l)==="mpesa"?"border-primary bg-primary/5 dark:bg-primary/10":"border-slate-200 dark:border-slate-700"}`),je(U,1,`flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${r(l)==="cod"?"border-primary bg-primary/5 dark:bg-primary/10":"border-slate-200 dark:border-slate-700"}`),w(ke,s),w(De,o),w(Oe,M),i.disabled=r(W)},[()=>ce(q()),()=>ce(r(H)),()=>ce(q()+r(H))]),Ye(se,[],B,()=>r(l),s=>u(l,s)),Ye(se,[],re,()=>r(l),s=>u(l,s)),ae(1,j,()=>he),n(g,j)},_=g=>{var j=Ee(),z=Me(j);{var E=B=>{var U=ha(),re=t(a(U),4),fe=a(re);e(re),ee(2),e(U),V(()=>w(fe,`Order ID: ${r(T)??""}`)),ae(1,U,()=>he),n(B,U)};R(z,B=>{r(A)==="confirmation"&&B(E)},!0)}n(g,j)};R(ue,g=>{r(A)==="payment"?g(p):g(_,!1)},!0)}n(P,L)};R(Ne,P=>{r(A)==="shipping"?P(h):P(S,!1)})}e(xe),n(_e,xe),Ge(),le()}Xe(["click"]);var ka=x('<div class="max-w-2xl mx-auto text-center py-16 bg-white dark:bg-surface-dark rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 p-12"><div class="w-24 h-24 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-6 mx-auto"><span class="material-symbols-outlined text-green-600 dark:text-green-400 text-[64px]">check_circle</span></div> <h1 class="text-4xl font-bold text-slate-900 dark:text-white mb-4">Order Confirmed!</h1> <p class="text-slate-500 mb-8 text-lg"> </p> <a href="/" class="inline-block py-4 px-8 bg-primary text-white font-bold rounded-xl shadow-lg hover:bg-primary/90 transition-all">Continue Shopping</a></div>'),wa=x('<div class="flex flex-col items-center bg-background-light dark:bg-background-dark px-4 flex-1"><div></div> <span> </span></div>'),Pa=x(`<div class="space-y-6"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-xl font-bold text-slate-900 dark:text-white mb-4">Choose Delivery Location</h2> <div class="h-[400px] rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700"><!></div> <div class="mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 flex items-start gap-2"><span class="material-symbols-outlined text-blue-600 dark:text-blue-400 text-[20px]">info</span> <p class="text-sm text-blue-700 dark:text-blue-300">Delivery fee is calculated based on
                                        distance from our warehouse in Nairobi.</p></div></div> <div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-xl font-bold text-slate-900 dark:text-white mb-6">Delivery Details</h2> <form class="space-y-5"><!> <!> <div class="grid grid-cols-2 gap-4"><!> <!></div> <!> <div class="grid grid-cols-2 gap-4"><!> <!></div> <div class="flex justify-end pt-4"><button type="submit" class="px-8 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95">Continue to Payment</button></div></form></div></div>`),$a=x('<label><input type="radio" name="payment" class="w-5 h-5 text-primary focus:ring-primary"/> <div class="flex-1"><div class="font-bold text-slate-900 dark:text-white"> </div> <div class="text-sm text-slate-500"> </div></div></label>'),Ma=x('<div class="mt-6"><!></div>'),Sa=x('<div class="mt-6 space-y-4"><!> <div class="grid grid-cols-2 gap-4"><!> <!></div></div>'),La=x('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> Processing...',1),Ca=x('<div class="space-y-6"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-xl font-bold text-slate-900 dark:text-white mb-6">Payment Method</h2> <div class="space-y-4"></div> <!> <div class="flex justify-between items-center mt-8 pt-6 border-t border-slate-200 dark:border-slate-700"><button class="px-6 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-bold rounded-xl transition-all active:scale-95">Back</button> <button class="px-8 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2"><!></button></div></div></div>'),ja=x('<div class="flex gap-3"><div class="w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden shrink-0"><img class="w-full h-full object-cover"/></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-slate-900 dark:text-white line-clamp-2"> </div> <div class="text-xs text-slate-500"> </div></div> <div class="text-sm font-bold text-slate-900 dark:text-white"> </div></div>'),Na=x('<div class="mb-12"><div class="flex items-center justify-center max-w-2xl mx-auto relative"><div class="absolute left-0 top-1/2 w-full h-1 bg-slate-200 dark:bg-slate-700 -z-10"></div> <!></div></div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><!></div> <div class="lg:col-span-1"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 sticky top-24"><h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Order Summary</h3> <div class="space-y-3 mb-6 max-h-64 overflow-y-auto"></div> <div class="space-y-3 py-4 border-t border-slate-200 dark:border-slate-700"><div class="flex justify-between text-sm"><span class="text-slate-600 dark:text-slate-400">Subtotal</span> <span class="font-medium text-slate-900 dark:text-white"> </span></div> <div class="flex justify-between text-sm"><span class="text-slate-600 dark:text-slate-400">Delivery Fee</span> <span class="font-medium text-slate-900 dark:text-white"> </span></div></div> <div class="flex justify-between pt-4 border-t border-slate-200 dark:border-slate-700"><span class="font-bold text-lg text-slate-900 dark:text-white">Total</span> <span class="font-bold text-xl text-primary"> </span></div></div></div></div>',1),Da=x('<div class="min-h-screen bg-background-light dark:bg-background-dark py-12 px-6 lg:px-8"><div class="max-w-7xl mx-auto"><!></div></div>');function Oa(_e,ve){Ze(ve,!0);const q=()=>We(aa,"$cartTotal",le),me=()=>We(Ke,"$cart",le),[le,se]=Qe(),A=[];let d=O("shipping"),l=Je({name:"",email:"",road:"",house:"",apt:"",landmark:"",phone:"",lat:-1.286389,lng:36.817223,address:""}),N=O("mpesa"),W=O(""),T=Je({number:"",expiry:"",cvv:""}),H=O(!1),ce=O(""),te=O(860);function K(p){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(p)}function Se(p,_,g){l.lat=p,l.lng=_,l.address=g;const E=Math.sqrt(Math.pow(p- -1.286389,2)+Math.pow(_-36.817223,2));u(te,Math.round(500+E*1e3),!0)}function xe(p){p.preventDefault(),l.name&&l.email&&l.road&&l.phone?(u(d,"payment"),u(W,l.phone,!0),ne.add("Shipping details saved","success")):ne.add("Please fill in all required fields","error")}function Ne(){u(H,!0),ne.add("Processing payment...","info"),setTimeout(()=>{u(H,!1),u(ce,"ORD-"+Math.floor(Math.random()*1e5)),u(d,"confirmation"),Ke.set([]),ne.add("Order placed successfully!","success")},2e3)}var h=Da(),S=a(h),P=a(S);{var L=p=>{var _=ka(),g=t(a(_),4),j=a(g);e(g),ee(2),e(_),V(()=>w(j,`Order ID: ${r(ce)??""}`)),ae(1,_,()=>he),n(p,_)},ue=p=>{var _=Na(),g=Me(_),j=a(g),z=t(a(j),2);Be(z,16,()=>["shipping","payment"],Re,(y,i,b)=>{const $=Ve(()=>r(d)===i||r(d)==="payment"&&b===0);var k=wa(),s=a(k);s.textContent=b+1;var o=t(s,2),M=a(o,!0);e(o),e(k),V(()=>{je(s,1,`w-12 h-12 rounded-full flex items-center justify-center font-bold border-2 transition-colors duration-300 ${r($)?"border-primary bg-primary text-white":"border-slate-300 text-slate-500 dark:border-slate-600 bg-white dark:bg-surface-dark"}`),je(o,1,`mt-2 text-sm font-medium uppercase ${r($)?"text-primary":"text-slate-500 dark:text-slate-400"}`),w(M,i)}),n(y,k)}),e(j),e(g);var E=t(g,2),B=a(E),U=a(B);{var re=y=>{var i=Pa(),b=a(i),$=t(a(b),2),k=a($);{let c=Ve(()=>({lat:l.lat,lng:l.lng}));ta(k,{get initialLocation(){return r(c)},onLocationSelect:Se})}e($),ee(2),e(b);var s=t(b,2),o=t(a(s),2),M=a(o);f(M,{label:"Place Name",placeholder:"e.g. Westlands Center",required:!0,get value(){return l.name},set value(c){l.name=c}});var I=t(M,2);f(I,{label:"Road / Street",placeholder:"e.g. Waiyaki Way",required:!0,get value(){return l.road},set value(c){l.road=c}});var Y=t(I,2),Z=a(Y);f(Z,{label:"House / Building",placeholder:"No. 4B",get value(){return l.house},set value(c){l.house=c}});var de=t(Z,2);f(de,{label:"Apartment Unit",placeholder:"Flr 2",get value(){return l.apt},set value(c){l.apt=c}}),e(Y);var G=t(Y,2);f(G,{label:"Landmark (Optional)",placeholder:"e.g. Near the Shell Station",get value(){return l.landmark},set value(c){l.landmark=c}});var Q=t(G,2),Pe=a(Q);f(Pe,{label:"Email Address",type:"email",required:!0,get value(){return l.email},set value(c){l.email=c}});var qe=t(Pe,2);f(qe,{label:"Phone Number",type:"tel",placeholder:"+254 712 345 678",required:!0,get value(){return l.phone},set value(c){l.phone=c}}),e(Q),ee(2),e(o),e(s),e(i),ea("submit",o,xe),ae(1,i,()=>he),n(y,i)},fe=y=>{var i=Ee(),b=Me(i);{var $=k=>{var s=Ca(),o=a(s),M=t(a(o),2);Be(M,20,()=>[{value:"mpesa",label:"M-Pesa",desc:"Pay via mobile money"},{value:"card",label:"Credit/Debit Card",desc:"Visa, Mastercard accepted"},{value:"cod",label:"Cash at Pick-up",desc:"Pay on delivery"}],Re,(m,v)=>{var D=$a(),F=a(D);ze(F);var ie,J=t(F,2),oe=a(J),$e=a(oe,!0);e(oe);var be=t(oe,2),Te=a(be,!0);e(be),e(J),e(D),V(()=>{je(D,1,`flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${r(N)===v.value?"border-primary bg-primary/5 dark:bg-primary/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`),ie!==(ie=v.value)&&(F.value=(F.__value=v.value)??""),w($e,v.label),w(Te,v.desc)}),Ye(A,[],F,()=>(v.value,r(N)),X=>u(N,X)),n(m,D)}),e(M);var I=t(M,2);{var Y=m=>{var v=Ma(),D=a(v);f(D,{label:"M-PESA Phone Number",type:"tel",placeholder:"+254 712 345 678",get value(){return r(W)},set value(F){u(W,F,!0)}}),e(v),ae(1,v,()=>He),n(m,v)},Z=m=>{var v=Ee(),D=Me(v);{var F=ie=>{var J=Sa(),oe=a(J);f(oe,{label:"Card Number",placeholder:"1234 5678 9012 3456",get value(){return T.number},set value(X){T.number=X}});var $e=t(oe,2),be=a($e);f(be,{label:"Expiry Date",placeholder:"MM/YY",get value(){return T.expiry},set value(X){T.expiry=X}});var Te=t(be,2);f(Te,{label:"CVV",placeholder:"123",get value(){return T.cvv},set value(X){T.cvv=X}}),e($e),e(J),ae(1,J,()=>He),n(ie,J)};R(D,ie=>{r(N)==="card"&&ie(F)},!0)}n(m,v)};R(I,m=>{r(N)==="mpesa"?m(Y):m(Z,!1)})}var de=t(I,2),G=a(de);G.__click=()=>u(d,"shipping");var Q=t(G,2);Q.__click=Ne;var Pe=a(Q);{var qe=m=>{var v=La();ee(),n(m,v)},c=m=>{var v=la();V(D=>w(v,`Place Order • ${D??""}`),[()=>K(q()+r(te))]),n(m,v)};R(Pe,m=>{r(H)?m(qe):m(c,!1)})}e(Q),e(de),e(o),e(s),V(()=>Q.disabled=r(H)),ae(1,s,()=>he),n(k,s)};R(b,k=>{r(d)==="payment"&&k($)},!0)}n(y,i)};R(U,y=>{r(d)==="shipping"?y(re):y(fe,!1)})}e(B);var C=t(B,2),ye=a(C),pe=t(a(ye),2);Be(pe,5,me,Re,(y,i)=>{var b=ja(),$=a(b),k=a($);e($);var s=t($,2),o=a(s),M=a(o,!0);e(o);var I=t(o,2),Y=a(I);e(I),e(s);var Z=t(s,2),de=a(Z,!0);e(Z),e(b),V(G=>{Ue(k,"src",r(i).image),Ue(k,"alt",r(i).name),w(M,r(i).name),w(Y,`Qty: ${r(i).quantity??""}`),w(de,G)},[()=>K(r(i).price*r(i).quantity)]),n(y,b)}),e(pe);var ge=t(pe,2),ke=a(ge),we=t(a(ke),2),Ie=a(we,!0);e(we),e(ke);var De=t(ke,2),Le=t(a(De),2),Fe=a(Le,!0);e(Le),e(De),e(ge);var Ce=t(ge,2),Oe=t(a(Ce),2),Ae=a(Oe,!0);e(Oe),e(Ce),e(ye),e(C),e(E),V((y,i,b)=>{w(Ie,y),w(Fe,i),w(Ae,b)},[()=>K(q()),()=>K(r(te)),()=>K(q()+r(te))]),n(p,_)};R(P,p=>{r(d)==="confirmation"?p(L):p(ue,!1)})}e(S),e(h),n(_e,h),Ge(),se()}Xe(["click"]);var qa=x('<div class="max-w-2xl mx-auto text-center py-16 bg-white dark:bg-surface-dark rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 p-12"><div class="w-24 h-24 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-6 mx-auto"><span class="material-symbols-outlined text-green-600 dark:text-green-400 text-[64px]">check_circle</span></div> <h1 class="text-4xl font-bold text-slate-900 dark:text-white mb-4">Order Confirmed!</h1> <p class="text-slate-500 mb-8 text-lg"> </p> <a href="/" class="inline-block py-4 px-8 bg-primary text-white font-bold rounded-xl shadow-lg hover:bg-primary/90 transition-all">Continue Shopping</a></div>'),Ta=x('<div class="flex flex-col items-center bg-background-light dark:bg-background-dark px-4 flex-1"><div></div> <span> </span></div>'),Ea=x(`<div class="space-y-6"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-xl font-bold text-slate-900 dark:text-white mb-4">Choose Delivery Location</h2> <div class="h-[400px] rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700"><!></div> <div class="mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 flex items-start gap-2"><span class="material-symbols-outlined text-blue-600 dark:text-blue-400 text-[20px]">info</span> <p class="text-sm text-blue-700 dark:text-blue-300">Delivery fee is calculated based on
                                        distance from our warehouse in Nairobi.</p></div></div> <div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-xl font-bold text-slate-900 dark:text-white mb-6">Delivery Details</h2> <form class="space-y-5"><!> <!> <div class="grid grid-cols-2 gap-4"><!> <!></div> <!> <div class="grid grid-cols-2 gap-4"><!> <!></div> <div class="flex justify-end pt-4"><button type="submit" class="px-8 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95">Continue to Payment</button></div></form></div></div>`),Ia=x('<label><input type="radio" name="payment" class="w-5 h-5 text-primary focus:ring-primary"/> <div class="flex-1"><div class="font-bold text-slate-900 dark:text-white"> </div> <div class="text-sm text-slate-500"> </div></div></label>'),Fa=x('<div class="mt-6"><!></div>'),Aa=x('<div class="mt-6 space-y-4"><!> <div class="grid grid-cols-2 gap-4"><!> <!></div></div>'),Ba=x('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> Processing...',1),Ra=x('<div class="space-y-6"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-xl font-bold text-slate-900 dark:text-white mb-6">Payment Method</h2> <div class="space-y-4"></div> <!> <div class="flex justify-between items-center mt-8 pt-6 border-t border-slate-200 dark:border-slate-700"><button class="px-6 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-bold rounded-xl transition-all active:scale-95">Back</button> <button class="px-8 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2"><!></button></div></div></div>'),Va=x('<div class="flex gap-3"><div class="w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden shrink-0"><img class="w-full h-full object-cover"/></div> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-slate-900 dark:text-white line-clamp-2"> </div> <div class="text-xs text-slate-500"> </div></div> <div class="text-sm font-bold text-slate-900 dark:text-white"> </div></div>'),Wa=x('<div class="mb-12"><div class="flex items-center justify-center max-w-2xl mx-auto relative"><div class="absolute left-0 top-1/2 w-full h-1 bg-slate-200 dark:bg-slate-700 -z-10"></div> <!></div></div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><!></div> <div class="lg:col-span-1"><div class="bg-white dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 sticky top-24"><h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Order Summary</h3> <div class="space-y-3 mb-6 max-h-64 overflow-y-auto"></div> <div class="space-y-3 py-4 border-t border-slate-200 dark:border-slate-700"><div class="flex justify-between text-sm"><span class="text-slate-600 dark:text-slate-400">Subtotal</span> <span class="font-medium text-slate-900 dark:text-white"> </span></div> <div class="flex justify-between text-sm"><span class="text-slate-600 dark:text-slate-400">Delivery Fee</span> <span class="font-medium text-slate-900 dark:text-white"> </span></div></div> <div class="flex justify-between pt-4 border-t border-slate-200 dark:border-slate-700"><span class="font-bold text-lg text-slate-900 dark:text-white">Total</span> <span class="font-bold text-xl text-primary"> </span></div></div></div></div>',1),Ha=x('<div class="min-h-screen bg-background-light dark:bg-background-dark py-12 px-6 lg:px-8"><div class="max-w-7xl mx-auto"><!></div></div>');function Ka(_e,ve){Ze(ve,!0);const q=()=>We(aa,"$cartTotal",le),me=()=>We(Ke,"$cart",le),[le,se]=Qe(),A=[];let d=O("shipping"),l={name:"",email:"",road:"",house:"",apt:"",landmark:"",phone:"",lat:-1.286389,lng:36.817223,address:""},N=O("mpesa"),W=O(""),T=Je({number:"",expiry:"",cvv:""}),H=O(!1),ce=O(""),te=O(860);function K(p){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(p)}function Se(p,_,g){l.lat=p,l.lng=_,l.address=g;const E=Math.sqrt(Math.pow(p- -1.286389,2)+Math.pow(_-36.817223,2));u(te,Math.round(500+E*1e3),!0)}function xe(p){p.preventDefault(),l.name&&l.email&&l.road&&l.phone?(u(d,"payment"),u(W,l.phone,!0),ne.add("Shipping details saved","success")):ne.add("Please fill in all required fields","error")}function Ne(){u(H,!0),ne.add("Processing payment...","info"),setTimeout(()=>{u(H,!1),u(ce,"ORD-"+Math.floor(Math.random()*1e5)),u(d,"confirmation"),Ke.set([]),ne.add("Order placed successfully!","success")},2e3)}var h=Ha(),S=a(h),P=a(S);{var L=p=>{var _=qa(),g=t(a(_),4),j=a(g);e(g),ee(2),e(_),V(()=>w(j,`Order ID: ${r(ce)??""}`)),ae(1,_,()=>he),n(p,_)},ue=p=>{var _=Wa(),g=Me(_),j=a(g),z=t(a(j),2);Be(z,16,()=>["shipping","payment"],Re,(y,i,b)=>{const $=Ve(()=>r(d)===i||r(d)==="payment"&&b===0);var k=Ta(),s=a(k);s.textContent=b+1;var o=t(s,2),M=a(o,!0);e(o),e(k),V(()=>{je(s,1,`w-12 h-12 rounded-full flex items-center justify-center font-bold border-2 transition-colors duration-300 ${r($)?"border-primary bg-primary text-white":"border-slate-300 text-slate-500 dark:border-slate-600 bg-white dark:bg-surface-dark"}`),je(o,1,`mt-2 text-sm font-medium uppercase ${r($)?"text-primary":"text-slate-500 dark:text-slate-400"}`),w(M,i)}),n(y,k)}),e(j),e(g);var E=t(g,2),B=a(E),U=a(B);{var re=y=>{var i=Ea(),b=a(i),$=t(a(b),2),k=a($);{let c=Ve(()=>({lat:l.lat,lng:l.lng}));ta(k,{get initialLocation(){return r(c)},onLocationSelect:Se})}e($),ee(2),e(b);var s=t(b,2),o=t(a(s),2),M=a(o);f(M,{label:"Place Name",placeholder:"e.g. Westlands Center",required:!0,get value(){return l.name},set value(c){l.name=c}});var I=t(M,2);f(I,{label:"Road / Street",placeholder:"e.g. Waiyaki Way",required:!0,get value(){return l.road},set value(c){l.road=c}});var Y=t(I,2),Z=a(Y);f(Z,{label:"House / Building",placeholder:"No. 4B",get value(){return l.house},set value(c){l.house=c}});var de=t(Z,2);f(de,{label:"Apartment Unit",placeholder:"Flr 2",get value(){return l.apt},set value(c){l.apt=c}}),e(Y);var G=t(Y,2);f(G,{label:"Landmark (Optional)",placeholder:"e.g. Near the Shell Station",get value(){return l.landmark},set value(c){l.landmark=c}});var Q=t(G,2),Pe=a(Q);f(Pe,{label:"Email Address",type:"email",required:!0,get value(){return l.email},set value(c){l.email=c}});var qe=t(Pe,2);f(qe,{label:"Phone Number",type:"tel",placeholder:"+254 712 345 678",required:!0,get value(){return l.phone},set value(c){l.phone=c}}),e(Q),ee(2),e(o),e(s),e(i),ea("submit",o,xe),ae(1,i,()=>he),n(y,i)},fe=y=>{var i=Ee(),b=Me(i);{var $=k=>{var s=Ra(),o=a(s),M=t(a(o),2);Be(M,20,()=>[{value:"mpesa",label:"M-Pesa",desc:"Pay via mobile money"},{value:"card",label:"Credit/Debit Card",desc:"Visa, Mastercard accepted"},{value:"cod",label:"Cash at Pick-up",desc:"Pay on delivery"}],Re,(m,v)=>{var D=Ia(),F=a(D);ze(F);var ie,J=t(F,2),oe=a(J),$e=a(oe,!0);e(oe);var be=t(oe,2),Te=a(be,!0);e(be),e(J),e(D),V(()=>{je(D,1,`flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all ${r(N)===v.value?"border-primary bg-primary/5 dark:bg-primary/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`),ie!==(ie=v.value)&&(F.value=(F.__value=v.value)??""),w($e,v.label),w(Te,v.desc)}),Ye(A,[],F,()=>(v.value,r(N)),X=>u(N,X)),n(m,D)}),e(M);var I=t(M,2);{var Y=m=>{var v=Fa(),D=a(v);f(D,{label:"M-PESA Phone Number",type:"tel",placeholder:"+254 712 345 678",get value(){return r(W)},set value(F){u(W,F,!0)}}),e(v),ae(1,v,()=>He),n(m,v)},Z=m=>{var v=Ee(),D=Me(v);{var F=ie=>{var J=Aa(),oe=a(J);f(oe,{label:"Card Number",placeholder:"1234 5678 9012 3456",get value(){return T.number},set value(X){T.number=X}});var $e=t(oe,2),be=a($e);f(be,{label:"Expiry Date",placeholder:"MM/YY",get value(){return T.expiry},set value(X){T.expiry=X}});var Te=t(be,2);f(Te,{label:"CVV",placeholder:"123",get value(){return T.cvv},set value(X){T.cvv=X}}),e($e),e(J),ae(1,J,()=>He),n(ie,J)};R(D,ie=>{r(N)==="card"&&ie(F)},!0)}n(m,v)};R(I,m=>{r(N)==="mpesa"?m(Y):m(Z,!1)})}var de=t(I,2),G=a(de);G.__click=()=>u(d,"shipping");var Q=t(G,2);Q.__click=Ne;var Pe=a(Q);{var qe=m=>{var v=Ba();ee(),n(m,v)},c=m=>{var v=la();V(D=>w(v,`Place Order • ${D??""}`),[()=>K(q()+r(te))]),n(m,v)};R(Pe,m=>{r(H)?m(qe):m(c,!1)})}e(Q),e(de),e(o),e(s),V(()=>Q.disabled=r(H)),ae(1,s,()=>he),n(k,s)};R(b,k=>{r(d)==="payment"&&k($)},!0)}n(y,i)};R(U,y=>{r(d)==="shipping"?y(re):y(fe,!1)})}e(B);var C=t(B,2),ye=a(C),pe=t(a(ye),2);Be(pe,5,me,Re,(y,i)=>{var b=Va(),$=a(b),k=a($);e($);var s=t($,2),o=a(s),M=a(o,!0);e(o);var I=t(o,2),Y=a(I);e(I),e(s);var Z=t(s,2),de=a(Z,!0);e(Z),e(b),V(G=>{Ue(k,"src",r(i).image),Ue(k,"alt",r(i).name),w(M,r(i).name),w(Y,`Qty: ${r(i).quantity??""}`),w(de,G)},[()=>K(r(i).price*r(i).quantity)]),n(y,b)}),e(pe);var ge=t(pe,2),ke=a(ge),we=t(a(ke),2),Ie=a(we,!0);e(we),e(ke);var De=t(ke,2),Le=t(a(De),2),Fe=a(Le,!0);e(Le),e(De),e(ge);var Ce=t(ge,2),Oe=t(a(Ce),2),Ae=a(Oe,!0);e(Oe),e(Ce),e(ye),e(C),e(E),V((y,i,b)=>{w(Ie,y),w(Fe,i),w(Ae,b)},[()=>K(q()),()=>K(r(te)),()=>K(q()+r(te))]),n(p,_)};R(P,p=>{r(d)==="confirmation"?p(L):p(ue,!1)})}e(S),e(h),n(_e,h),Ge(),se()}Xe(["click"]);function ut(_e){const ve=()=>We(na,"$device",q),[q,me]=Qe(),le={mobile:ya,tablet:Oa,desktop:Ka},se=Ve(()=>le[ve()]);var A=Ee();oa("jbcej5",l=>{sa(()=>{da.title="Checkout | Elora Tech"})});var d=Me(A);ia(d,()=>r(se),(l,N)=>{N(l,{})}),n(_e,A),me()}export{ut as component};
