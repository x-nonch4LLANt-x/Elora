import{f as k,a as u,s as D,e as R,c as U}from"../chunks/p3BVkhEL.js";import"../chunks/B6XqJAhF.js";import{o as fe}from"../chunks/DdaHFDoq.js";import{p as ge,a as xe,s as l,c as r,r as t,g as e,m as $,t as F,i as S,j as he,n as V,f as W,k as b}from"../chunks/D97IuHMQ.js";import{i as N}from"../chunks/BnfQKSU9.js";import{e as X,i as Y}from"../chunks/UExRh7po.js";import{t as O,f as z,s as ye}from"../chunks/BBp2vX9R.js";import{a as Z,r as _e}from"../chunks/CD2Y0r4l.js";import{b as ke,a as we}from"../chunks/DyHxdDAO.js";import{i as $e}from"../chunks/DBXyn3jN.js";import{s as Pe,a as Se}from"../chunks/CPfwhYki.js";import{a as Me,c as je}from"../chunks/CJwBexch.js";import"../chunks/Oh7xaASr.js";import"../chunks/B17Q6ahh.js";import{F as M}from"../chunks/BlQnno_e.js";import{t as T}from"../chunks/qZV6nWwN.js";var Ce=k('<div class="flex flex-col items-center bg-background-light dark:bg-background-dark px-2"><div></div> <span class="mt-2 text-xs font-medium uppercase text-slate-500 dark:text-slate-400"> </span></div>'),qe=k('<div class="bg-surface-light dark:bg-surface-dark p-8 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white">Shipping Details</h2> <form class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <!> <!> <!> <div class="col-span-1 md:col-span-2 space-y-2"><label class="text-sm font-medium text-slate-700 dark:text-slate-300 ml-1">Address</label> <textarea required rows="3" class="w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all" placeholder="Street name, Apartment, etc."></textarea></div></div> <div class="flex justify-between items-center pt-4"><a href="/cart" class="text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 font-medium transition-colors">Return to Cart</a> <button type="submit" class="px-8 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95">Continue to Payment</button></div></form></div>'),Ie=k('<label><input type="radio" name="payment" class="w-5 h-5 text-primary focus:ring-primary"/> <div class="flex-1 flex items-center justify-between"><span class="font-bold text-slate-900 dark:text-white uppercase"> </span></div></label>'),De=k('<div class="mt-6 p-6 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-700"><!></div>'),Fe=k('<div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="md:col-span-2 bg-surface-light dark:bg-surface-dark p-8 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800"><h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-white">Payment Method</h2> <div class="space-y-4"></div> <!> <div class="flex justify-between items-center mt-8"><button class="text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 font-medium transition-colors">Back</button> <button class="px-8 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-primary/90 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed"> </button></div></div></div>'),Ne=k('<div class="text-center py-12 max-w-lg mx-auto bg-surface-light dark:bg-surface-dark rounded-2xl shadow-lg border border-slate-100 dark:border-slate-800 p-8"><h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Order Confirmed!</h1> <p class="text-slate-500 mb-8"> </p> <a href="/" class="block w-full py-3 bg-primary text-white font-bold rounded-xl shadow-lg hover:bg-primary/90 transition-all">Continue Shopping</a></div>'),Oe=k('<div class="min-h-screen bg-background-light dark:bg-background-dark py-12 px-4 sm:px-6 lg:px-8"><div class="max-w-3xl mx-auto"><div class="mb-8"><div class="flex items-center justify-between relative"><div class="absolute left-0 top-1/2 w-full h-1 bg-slate-200 dark:bg-slate-700 -z-10"></div> <!></div></div> <!></div></div>');function Ye(ee,ae){ge(ae,!1);const te=()=>Se(Me,"$cartTotal",re),[re,se]=Pe(),le=[];let c=$("shipping"),a=$({name:"",email:"",address:"",city:"",phone:""}),j=$("mpesa"),A=$(""),C=$(!1),B=$("");function oe(o){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(o)}function ie(o){o.preventDefault(),e(a).name&&e(a).email&&e(a).address&&e(a).city&&e(a).phone?(b(c,"payment"),b(A,e(a).phone),T.add("Shipping details saved","success")):T.add("Please fill in all shipping details","error")}function de(){b(C,!0),T.add("Processing payment...","info"),setTimeout(()=>{b(C,!1),b(B,"ORD-"+Math.floor(Math.random()*1e5)),b(c,"confirmation"),je.set([]),T.add("Order placed successfully!","success")},2e3)}fe(()=>{}),$e();var E=Oe(),L=r(E),K=r(L),G=r(K),ne=l(r(G),2);X(ne,0,()=>["shipping","payment","confirmation"],Y,(o,n,p)=>{var f=Ce(),g=r(f);g.textContent=p+1;var i=l(g,2),d=r(i,!0);t(i),t(f),F(()=>{Z(g,1,`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm border-2 transition-colors duration-300 ${e(c)===n||e(c)==="payment"&&p===0||e(c)==="confirmation"&&p<2?"border-primary bg-primary text-white":"border-slate-300 text-slate-500 dark:border-slate-600"}`),D(d,n)}),u(o,f)}),t(G),t(K);var ce=l(K,2);{var pe=o=>{var n=qe(),p=l(r(n),2),f=r(p),g=r(f);M(g,{label:"Full Name",required:!0,get value(){return e(a).name},set value(s){S(a,e(a).name=s)},$$legacy:!0});var i=l(g,2);M(i,{label:"Email Address",type:"email",required:!0,get value(){return e(a).email},set value(s){S(a,e(a).email=s)},$$legacy:!0});var d=l(i,2);M(d,{label:"Phone Number",type:"tel",required:!0,get value(){return e(a).phone},set value(s){S(a,e(a).phone=s)},$$legacy:!0});var h=l(d,2);M(h,{label:"City",required:!0,get value(){return e(a).city},set value(s){S(a,e(a).city=s)},$$legacy:!0});var x=l(h,2),m=l(r(x),2);he(m),t(x),t(f),V(2),t(p),t(n),ke(m,()=>e(a).address,s=>S(a,e(a).address=s)),R("submit",p,ie),O(1,n,()=>z),u(o,n)},me=o=>{var n=U(),p=W(n);{var f=i=>{var d=Fe(),h=r(d),x=l(r(h),2);X(x,4,()=>["mpesa","card","cod"],Y,(y,v)=>{var w=Ie(),_=r(w);_e(_);var H,J=l(_,2),Q=r(J),ue=r(Q,!0);t(Q),t(J),t(w),F(()=>{Z(w,1,`flex items-center gap-4 p-4 border rounded-xl cursor-pointer transition-all ${e(j)===v?"border-primary bg-primary/5 dark:bg-primary/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`),H!==(H=v)&&(_.value=(_.__value=v)??""),D(ue,v)}),we(le,[],_,()=>e(j),be=>b(j,be)),u(y,w)}),t(x);var m=l(x,2);{var s=y=>{var v=De(),w=r(v);M(w,{label:"M-Pesa Phone Number",type:"tel",get value(){return e(A)},set value(_){b(A,_)},$$legacy:!0}),t(v),O(1,v,()=>ye),u(y,v)};N(m,y=>{e(j)==="mpesa"&&y(s)})}var P=l(m,2),q=r(P),I=l(q,2),ve=r(I,!0);t(I),t(P),t(h),t(d),F(y=>{I.disabled=e(C),D(ve,y)},[()=>e(C)?"Processing...":`Pay ${oe(te())}`]),R("click",q,()=>b(c,"shipping")),R("click",I,de),O(1,d,()=>z),u(i,d)},g=i=>{var d=U(),h=W(d);{var x=m=>{var s=Ne(),P=l(r(s),2),q=r(P);t(P),V(2),t(s),F(()=>D(q,`Order ID: ${e(B)??""}`)),O(1,s,()=>z),u(m,s)};N(h,m=>{e(c)==="confirmation"&&m(x)},!0)}u(i,d)};N(p,i=>{e(c)==="payment"?i(f):i(g,!1)},!0)}u(o,n)};N(ce,o=>{e(c)==="shipping"?o(pe):o(me,!1)})}t(L),t(E),u(ee,E),xe(),se()}export{Ye as component};
