import{y as z,bd as Ce,be as ct}from"./D97IuHMQ.js";import{w as lt}from"./B3VlpfkE.js";import{H as re,S as ye,R as we}from"./CYgJF_JY.js";import{c as ft,H as D,N as K,r as ve,i as be,b as U,s as oe,p as P,n as de,f as Me,g as he,a as X,d as le,S as He,P as ut,e as je,h as dt,m as ht,j as pt,o as ke,k as _t,l as Ve,q,u as Ke,t as mt,v as gt,w as Ye}from"./Oh7xaASr.js";import{t as yt}from"./B17Q6ahh.js";const wt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function vt(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${kt(e).map(n=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(n);if(r)return t.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/([^]*))?";const s=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(n);if(s)return t.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!n)return;const i=n.split(/\[(.+?)\](?!\])/);return"/"+i.map((c,f)=>{if(f%2){if(c.startsWith("x+"))return fe(String.fromCharCode(parseInt(c.slice(2),16)));if(c.startsWith("u+"))return fe(String.fromCharCode(...c.slice(2).split("-").map(y=>parseInt(y,16))));const d=wt.exec(c),[,p,u,l,h]=d;return t.push({name:l,matcher:h,optional:!!p,rest:!!u,chained:u?f===1&&i[0]==="":!1}),u?"([^]*?)":p?"([^/]*)?":"([^/]+?)"}return fe(c)}).join("")}).join("")}/?$`),params:t}}function bt(e){return e!==""&&!/^\([^)]+\)$/.test(e)}function kt(e){return e.slice(1).split("/").filter(bt)}function Et(e,t,a){const n={},r=e.slice(1),s=r.filter(o=>o!==void 0);let i=0;for(let o=0;o<t.length;o+=1){const c=t[o];let f=r[o-i];if(c.chained&&c.rest&&i&&(f=r.slice(o-i,o+1).filter(d=>d).join("/"),i=0),f===void 0){c.rest&&(n[c.name]="");continue}if(!c.matcher||a[c.matcher](f)){n[c.name]=f;const d=t[o+1],p=r[o+1];d&&!d.rest&&d.optional&&p&&c.chained&&(i=0),!d&&!p&&Object.keys(n).length===s.length&&(i=0);continue}if(c.optional&&c.chained){i++;continue}return}if(!i)return n}function fe(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function St({nodes:e,server_loads:t,dictionary:a,matchers:n}){const r=new Set(t);return Object.entries(a).map(([o,[c,f,d]])=>{const{pattern:p,params:u}=vt(o),l={id:o,exec:h=>{const y=p.exec(h);if(y)return Et(y,u,n)},errors:[1,...d||[]].map(h=>e[h]),layouts:[0,...f||[]].map(i),leaf:s(c)};return l.errors.length=l.layouts.length=Math.max(l.errors.length,l.layouts.length),l});function s(o){const c=o<0;return c&&(o=~o),[c,e[o]]}function i(o){return o===void 0?o:[r.has(o),e[o]]}}function Ge(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function Oe(e,t,a=JSON.stringify){const n=a(t);try{sessionStorage[e]=n}catch{}}function At(e){const t=It(e),a=new ArrayBuffer(t.length),n=new DataView(a);for(let r=0;r<a.byteLength;r++)n.setUint8(r,t.charCodeAt(r));return a}const Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function It(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",a=0,n=0;for(let r=0;r<e.length;r++)a<<=6,a|=Rt.indexOf(e[r]),n+=6,n===24&&(t+=String.fromCharCode((a&16711680)>>16),t+=String.fromCharCode((a&65280)>>8),t+=String.fromCharCode(a&255),a=n=0);return n===12?(a>>=4,t+=String.fromCharCode(a)):n===18&&(a>>=2,t+=String.fromCharCode((a&65280)>>8),t+=String.fromCharCode(a&255)),t}const Tt=-1,Lt=-2,Pt=-3,Ut=-4,Ct=-5,jt=-6;function Ot(e,t){if(typeof e=="number")return r(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const a=e,n=Array(a.length);function r(s,i=!1){if(s===Tt)return;if(s===Pt)return NaN;if(s===Ut)return 1/0;if(s===Ct)return-1/0;if(s===jt)return-0;if(i||typeof s!="number")throw new Error("Invalid input");if(s in n)return n[s];const o=a[s];if(!o||typeof o!="object")n[s]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const c=o[0],f=t&&Object.hasOwn(t,c)?t[c]:void 0;if(f){let d=o[1];return typeof d!="number"&&(d=a.push(o[1])-1),n[s]=f(r(d))}switch(c){case"Date":n[s]=new Date(o[1]);break;case"Set":const d=new Set;n[s]=d;for(let l=1;l<o.length;l+=1)d.add(r(o[l]));break;case"Map":const p=new Map;n[s]=p;for(let l=1;l<o.length;l+=2)p.set(r(o[l]),r(o[l+1]));break;case"RegExp":n[s]=new RegExp(o[1],o[2]);break;case"Object":n[s]=Object(o[1]);break;case"BigInt":n[s]=BigInt(o[1]);break;case"null":const u=Object.create(null);n[s]=u;for(let l=1;l<o.length;l+=2)u[o[l]]=r(o[l+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const l=globalThis[c],h=new l(r(o[1]));n[s]=o[2]!==void 0?h.subarray(o[2],o[3]):h;break}case"ArrayBuffer":{const l=o[1],h=At(l);n[s]=h;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const l=c.slice(9);n[s]=Temporal[l].from(o[1]);break}case"URL":{const l=new URL(o[1]);n[s]=l;break}case"URLSearchParams":{const l=new URLSearchParams(o[1]);n[s]=l;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(o.length);n[s]=c;for(let f=0;f<o.length;f+=1){const d=o[f];d!==Lt&&(c[f]=r(d))}}else{const c={};n[s]=c;for(const f in o){if(f==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const d=o[f];c[f]=r(d)}}return n[s]}return r(0)}function xt(e){return e.filter(t=>t!=null)}const Nt="x-sveltekit-invalidated",Dt="x-sveltekit-trailing-slash";function J(e){return e instanceof re||e instanceof ye?e.status:500}function Ft(e){return e instanceof ye?e.text:"Internal Error"}const $t="/__data.json",Bt=".html__data.json";function qt(e){return e.endsWith(".html")?e.replace(/\.html$/,Bt):e.replace(/\/$/,"")+$t}const xe={spanContext(){return Mt},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this},addLink(){return this},addLinks(){return this}},Mt={traceId:"",spanId:"",traceFlags:0},Ht=new Set(["icon","shortcut icon","apple-touch-icon"]),N=Ge(Ye)??{},Y=Ge(Ve)??{},O={url:je({}),page:je({}),navigating:lt(null),updated:ft()};function Ee(e){N[e]=oe()}function Vt(e,t){let a=e+1;for(;N[a];)delete N[a],a+=1;for(a=t+1;Y[a];)delete Y[a],a+=1}function B(e,t=!1){return t?location.replace(e.href):location.href=e.href,new Promise(()=>{})}async function We(){if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration(U||"/");e&&await e.update()}}function Ne(){}let Se,pe,Z,j,_e,b;const Q=[],ee=[];let R=null;function me(){R?.fork?.then(e=>e?.discard()),R=null}const W=new Map,ze=new Set,Kt=new Set,H=new Set;let g={branch:[],error:null,url:null},Ae=!1,te=!1,De=!0,G=!1,M=!1,Xe=!1,Re=!1,Ie,A,T,x;const V=new Set,Fe=new Map;async function la(e,t,a){globalThis.__sveltekit_1vj8f2q?.data&&globalThis.__sveltekit_1vj8f2q.data,document.URL!==location.href&&(location.href=location.href),b=e,await e.hooks.init?.(),Se=St(e),j=document.documentElement,_e=t,pe=e.nodes[0],Z=e.nodes[1],pe(),Z(),A=history.state?.[D],T=history.state?.[K],A||(A=T=Date.now(),history.replaceState({...history.state,[D]:A,[K]:T},""));const n=N[A];function r(){n&&(history.scrollRestoration="manual",scrollTo(n.x,n.y))}a?(r(),await ta(_e,a)):(await F({type:"enter",url:ve(b.hash?na(new URL(location.href)):location.href),replace_state:!0}),r()),ea()}function Yt(){Q.length=0,Re=!1}function Je(e){ee.some(t=>t?.snapshot)&&(Y[e]=ee.map(t=>t?.snapshot?.capture()))}function Ze(e){Y[e]?.forEach((t,a)=>{ee[a]?.snapshot?.restore(t)})}function $e(){Ee(A),Oe(Ye,N),Je(T),Oe(Ve,Y)}async function Qe(e,t,a,n){let r;t.invalidateAll&&me(),await F({type:"goto",url:ve(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:a,nav_token:n,accept:()=>{t.invalidateAll&&(Re=!0,r=[...Fe.keys()]),t.invalidate&&t.invalidate.forEach(Qt)}}),t.invalidateAll&&z().then(z).then(()=>{Fe.forEach(({resource:s},i)=>{r?.includes(i)&&s.refresh?.()})})}async function Gt(e){if(e.id!==R?.id){me();const t={};if(V.add(t),R={id:e.id,token:t,promise:at({...e,preload:t}).then(a=>(V.delete(t),a.type==="loaded"&&a.state.error&&me(),a)),fork:null},Ce){const a=R;a.fork=a.promise.then(n=>{if(a===R&&n.type==="loaded")try{return Ce(()=>{Ie.$set(n.props),Ke(n.props.page)})}catch{}return null})}}return R.promise}async function ue(e){const t=(await ie(e,!1))?.route;t&&await Promise.all([...t.layouts,t.leaf].map(a=>a?.[1]()))}async function et(e,t,a){g=e.state;const n=document.querySelector("style[data-sveltekit]");if(n&&n.remove(),Object.assign(P,e.props.page),Ie=new b.root({target:t,props:{...e.props,stores:O,components:ee},hydrate:a,sync:!1}),await Promise.resolve(),Ze(T),a){const r={from:null,to:{params:g.params,route:{id:g.route?.id??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};H.forEach(s=>s(r))}te=!0}function ae({url:e,params:t,branch:a,status:n,error:r,route:s,form:i}){let o="never";if(U&&(e.pathname===U||e.pathname===U+"/"))o="always";else for(const l of a)l?.slash!==void 0&&(o=l.slash);e.pathname=pt(e.pathname,o),e.search=e.search;const c={type:"loaded",state:{url:e,params:t,branch:a,error:r,route:s},props:{constructors:xt(a).map(l=>l.node.component),page:Ue(P)}};i!==void 0&&(c.props.form=i);let f={},d=!P,p=0;for(let l=0;l<Math.max(a.length,g.branch.length);l+=1){const h=a[l],y=g.branch[l];h?.data!==y?.data&&(d=!0),h&&(f={...f,...h.data},d&&(c.props[`data_${p}`]=f),p+=1)}return(!g.url||e.href!==g.url.href||g.error!==r||i!==void 0&&i!==P.form||d)&&(c.props.page={error:r,params:t,route:{id:s?.id??null},state:{},status:n,url:new URL(e),form:i??null,data:d?f:P.data}),c}async function Te({loader:e,parent:t,url:a,params:n,route:r,server_data_node:s}){let i=null,o=!0;const c={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},f=await e();if(f.universal?.load){let d=function(...u){for(const l of u){const{href:h}=new URL(l,a);c.dependencies.add(h)}};const p={tracing:{enabled:!1,root:xe,current:xe},route:new Proxy(r,{get:(u,l)=>(o&&(c.route=!0),u[l])}),params:new Proxy(n,{get:(u,l)=>(o&&c.params.add(l),u[l])}),data:s?.data??null,url:ht(a,()=>{o&&(c.url=!0)},u=>{o&&c.search_params.add(u)},b.hash),async fetch(u,l){u instanceof Request&&(l={body:u.method==="GET"||u.method==="HEAD"?void 0:await u.blob(),cache:u.cache,credentials:u.credentials,headers:[...u.headers].length>0?u?.headers:void 0,integrity:u.integrity,keepalive:u.keepalive,method:u.method,mode:u.mode,redirect:u.redirect,referrer:u.referrer,referrerPolicy:u.referrerPolicy,signal:u.signal,...l});const{resolved:h,promise:y}=tt(u,l,a);return o&&d(h.href),y},setHeaders:()=>{},depends:d,parent(){return o&&(c.parent=!0),t()},untrack(u){o=!1;try{return u()}finally{o=!0}}};i=await f.universal.load.call(null,p)??null}return{node:f,loader:e,server:s,universal:f.universal?.load?{type:"data",data:i,uses:c}:null,data:i??s?.data??null,slash:f.universal?.trailingSlash??s?.slash}}function tt(e,t,a){let n=e instanceof Request?e.url:e;const r=new URL(n,a);r.origin===a.origin&&(n=r.href.slice(a.origin.length));const s=te?mt(n,r.href,t):gt(n,t);return{resolved:r,promise:s}}function Be(e,t,a,n,r,s){if(Re)return!0;if(!r)return!1;if(r.parent&&e||r.route&&t||r.url&&a)return!0;for(const i of r.search_params)if(n.has(i))return!0;for(const i of r.params)if(s[i]!==g.params[i])return!0;for(const i of r.dependencies)if(Q.some(o=>o(new URL(i))))return!0;return!1}function Le(e,t){return e?.type==="data"?e:e?.type==="skip"?t??null:null}function Wt(e,t){if(!e)return new Set(t.searchParams.keys());const a=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(const n of a){const r=e.searchParams.getAll(n),s=t.searchParams.getAll(n);r.every(i=>s.includes(i))&&s.every(i=>r.includes(i))&&a.delete(n)}return a}function qe({error:e,url:t,route:a,params:n}){return{type:"loaded",state:{error:e,url:t,route:a,params:n,branch:[]},props:{page:Ue(P),constructors:[]}}}async function at({id:e,invalidating:t,url:a,params:n,route:r,preload:s}){if(R?.id===e)return V.delete(R.token),R.promise;const{errors:i,layouts:o,leaf:c}=r,f=[...o,c];i.forEach(m=>m?.().catch(()=>{})),f.forEach(m=>m?.[1]().catch(()=>{}));let d=null;const p=g.url?e!==ne(g.url):!1,u=g.route?r.id!==g.route.id:!1,l=Wt(g.url,a);let h=!1;{const m=f.map((w,k)=>{const S=g.branch[k],v=!!w?.[0]&&(S?.loader!==w[1]||Be(h,u,p,l,S.server?.uses,n));return v&&(h=!0),v});if(m.some(Boolean)){try{d=await ot(a,m)}catch(w){const k=await $(w,{url:a,params:n,route:{id:e}});return V.has(s)?qe({error:k,url:a,params:n,route:r}):se({status:J(w),error:k,url:a,route:r})}if(d.type==="redirect")return d}}const y=d?.nodes;let E=!1;const _=f.map(async(m,w)=>{if(!m)return;const k=g.branch[w],S=y?.[w];if((!S||S.type==="skip")&&m[1]===k?.loader&&!Be(E,u,p,l,k.universal?.uses,n))return k;if(E=!0,S?.type==="error")throw S;return Te({loader:m[1],url:a,params:n,route:r,parent:async()=>{const C={};for(let I=0;I<w;I+=1)Object.assign(C,(await _[I])?.data);return C},server_data_node:Le(S===void 0&&m[0]?{type:"skip"}:S??null,m[0]?k?.server:void 0)})});for(const m of _)m.catch(()=>{});const L=[];for(let m=0;m<f.length;m+=1)if(f[m])try{L.push(await _[m])}catch(w){if(w instanceof we)return{type:"redirect",location:w.location};if(V.has(s))return qe({error:await $(w,{params:n,url:a,route:{id:r.id}}),url:a,params:n,route:r});let k=J(w),S;if(y?.includes(w))k=w.status??k,S=w.error;else if(w instanceof re)S=w.body;else{if(await O.updated.check())return await We(),await B(a);S=await $(w,{params:n,url:a,route:{id:r.id}})}const v=await zt(m,L,i);return v?ae({url:a,params:n,branch:L.slice(0,v.idx).concat(v.node),status:k,error:S,route:r}):await rt(a,{id:r.id},S,k)}else L.push(void 0);return ae({url:a,params:n,branch:L,status:200,error:null,route:r,form:t?void 0:null})}async function zt(e,t,a){for(;e--;)if(a[e]){let n=e;for(;!t[n];)n-=1;try{return{idx:n+1,node:{node:await a[e](),loader:a[e],data:{},server:null,universal:null}}}catch{continue}}}async function se({status:e,error:t,url:a,route:n}){const r={};let s=null;if(b.server_loads[0]===0)try{const o=await ot(a,[!0]);if(o.type!=="data"||o.nodes[0]&&o.nodes[0].type!=="data")throw 0;s=o.nodes[0]??null}catch{(a.origin!==ke||a.pathname!==location.pathname||Ae)&&await B(a)}try{const i=await Te({loader:pe,url:a,params:r,route:n,parent:()=>Promise.resolve({}),server_data_node:Le(s)}),o={node:await Z(),loader:Z,universal:null,server:null,data:null};return ae({url:a,params:r,branch:[i,o],status:e,error:t,route:null})}catch(i){if(i instanceof we)return Qe(new URL(i.location,location.href),{},0);throw i}}async function Xt(e){const t=e.href;if(W.has(t))return W.get(t);let a;try{const n=(async()=>{let r=await b.hooks.reroute({url:new URL(e),fetch:async(s,i)=>tt(s,i,e).promise})??e;if(typeof r=="string"){const s=new URL(e);b.hash?s.hash=r:s.pathname=r,r=s}return r})();W.set(t,n),a=await n}catch{W.delete(t);return}return a}async function ie(e,t){if(e&&!be(e,U,b.hash)){const a=await Xt(e);if(!a)return;const n=Jt(a);for(const r of Se){const s=r.exec(n);if(s)return{id:ne(e),invalidating:t,route:r,params:dt(s),url:e}}}}function Jt(e){return _t(b.hash?e.hash.replace(/^#/,"").replace(/[?#].+/,""):e.pathname.slice(U.length))||"/"}function ne(e){return(b.hash?e.hash.replace(/^#/,""):e.pathname)+e.search}function nt({url:e,type:t,intent:a,delta:n,event:r}){let s=!1;const i=Pe(g,a,e,t);n!==void 0&&(i.navigation.delta=n),r!==void 0&&(i.navigation.event=r);const o={...i.navigation,cancel:()=>{s=!0,i.reject(new Error("navigation cancelled"))}};return G||ze.forEach(c=>c(o)),s?null:i}async function F({type:e,url:t,popped:a,keepfocus:n,noscroll:r,replace_state:s,state:i={},redirect_count:o=0,nav_token:c={},accept:f=Ne,block:d=Ne,event:p}){const u=x;x=c;const l=await ie(t,!1),h=e==="enter"?Pe(g,l,t,e):nt({url:t,type:e,delta:a?.delta,intent:l,event:p});if(!h){d(),x===c&&(x=u);return}const y=A,E=T;f(),G=!0,te&&h.navigation.type!=="enter"&&O.navigating.set(de.current=h.navigation);let _=l&&await at(l);if(!_){if(be(t,U,b.hash))return await B(t,s);_=await rt(t,{id:null},await $(new ye(404,"Not Found",`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404,s)}if(t=l?.url||t,x!==c)return h.reject(new Error("navigation aborted")),!1;if(_.type==="redirect"){if(o<20){await F({type:e,url:new URL(_.location,t),popped:a,keepfocus:n,noscroll:r,replace_state:s,state:i,redirect_count:o+1,nav_token:c}),h.fulfil(void 0);return}_=await se({status:500,error:await $(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else _.props.page.status>=400&&await O.updated.check()&&(await We(),await B(t,s));if(Yt(),Ee(y),Je(E),_.props.page.url.pathname!==t.pathname&&(t.pathname=_.props.page.url.pathname),i=a?a.state:i,!a){const v=s?0:1,C={[D]:A+=v,[K]:T+=v,[He]:i};(s?history.replaceState:history.pushState).call(history,C,"",t),s||Vt(A,T)}const L=l&&R?.id===l.id?R.fork:null;R=null,_.props.page.state=i;let m;if(te){const v=(await Promise.all(Array.from(Kt,I=>I(h.navigation)))).filter(I=>typeof I=="function");if(v.length>0){let I=function(){v.forEach(ce=>{H.delete(ce)})};v.push(I),v.forEach(ce=>{H.add(ce)})}g=_.state,_.props.page&&(_.props.page.url=t);const C=L&&await L;C?m=C.commit():(Ie.$set(_.props),Ke(_.props.page),m=ct?.()),Xe=!0}else await et(_,_e,!1);const{activeElement:w}=document;await m,await z(),await z();let k=a?a.scroll:r?oe():null;if(De){const v=t.hash&&document.getElementById(it(t));if(k)scrollTo(k.x,k.y);else if(v){v.scrollIntoView();const{top:C,left:I}=v.getBoundingClientRect();k={x:pageXOffset+I,y:pageYOffset+C}}else scrollTo(0,0)}const S=document.activeElement!==w&&document.activeElement!==document.body;!n&&!S&&aa(t,k),De=!0,_.props.page&&Object.assign(P,_.props.page),G=!1,e==="popstate"&&Ze(T),h.fulfil(void 0),H.forEach(v=>v(h.navigation)),O.navigating.set(de.current=null)}async function rt(e,t,a,n,r){return e.origin===ke&&e.pathname===location.pathname&&!Ae?await se({status:n,error:a,url:e,route:t}):await B(e,r)}function Zt(){let e,t,a;j.addEventListener("mousemove",o=>{const c=o.target;clearTimeout(e),e=setTimeout(()=>{s(c,q.hover)},20)});function n(o){o.defaultPrevented||s(o.composedPath()[0],q.tap)}j.addEventListener("mousedown",n),j.addEventListener("touchstart",n,{passive:!0});const r=new IntersectionObserver(o=>{for(const c of o)c.isIntersecting&&(ue(new URL(c.target.href)),r.unobserve(c.target))},{threshold:0});async function s(o,c){const f=Me(o,j),d=f===t&&c>=a;if(!f||d)return;const{url:p,external:u,download:l}=he(f,U,b.hash);if(u||l)return;const h=X(f),y=p&&ne(g.url)===ne(p);if(!(h.reload||y))if(c<=h.preload_data){t=f,a=q.tap;const E=await ie(p,!1);if(!E)return;Gt(E)}else c<=h.preload_code&&(t=f,a=c,ue(p))}function i(){r.disconnect();for(const o of j.querySelectorAll("a")){const{url:c,external:f,download:d}=he(o,U,b.hash);if(f||d)continue;const p=X(o);p.reload||(p.preload_code===q.viewport&&r.observe(o),p.preload_code===q.eager&&ue(c))}}H.add(i),i()}function $(e,t){if(e instanceof re)return e.body;const a=J(e),n=Ft(e);return b.hooks.handleError({error:e,event:t,status:a,message:n})??{message:n}}function fa(e,t={}){return e=new URL(ve(e)),e.origin!==ke?Promise.reject(new Error("goto: invalid URL")):Qe(e,t,0)}function Qt(e){if(typeof e=="function")Q.push(e);else{const{href:t}=new URL(e,location.href);Q.push(a=>a.href===t)}}function ea(){history.scrollRestoration="manual",addEventListener("beforeunload",t=>{let a=!1;if($e(),!G){const n=Pe(g,void 0,null,"leave"),r={...n.navigation,cancel:()=>{a=!0,n.reject(new Error("navigation cancelled"))}};ze.forEach(s=>s(r))}a?(t.preventDefault(),t.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&$e()}),navigator.connection?.saveData||Zt(),j.addEventListener("click",async t=>{if(t.button||t.which!==1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented)return;const a=Me(t.composedPath()[0],j);if(!a)return;const{url:n,external:r,target:s,download:i}=he(a,U,b.hash);if(!n)return;if(s==="_parent"||s==="_top"){if(window.parent!==window)return}else if(s&&s!=="_self")return;const o=X(a);if(!(a instanceof SVGAElement)&&n.protocol!==location.protocol&&!(n.protocol==="https:"||n.protocol==="http:")||i)return;const[f,d]=(b.hash?n.hash.replace(/^#/,""):n.href).split("#"),p=f===le(location);if(r||o.reload&&(!p||!d)){nt({url:n,type:"link",event:t})?G=!0:t.preventDefault();return}if(d!==void 0&&p){const[,u]=g.url.href.split("#");if(u===d){if(t.preventDefault(),d===""||d==="top"&&a.ownerDocument.getElementById("top")===null)scrollTo({top:0});else{const l=a.ownerDocument.getElementById(decodeURIComponent(d));l&&(l.scrollIntoView(),l.focus())}return}if(M=!0,Ee(A),e(n),!o.replace_state)return;M=!1}t.preventDefault(),await new Promise(u=>{requestAnimationFrame(()=>{setTimeout(u,0)}),setTimeout(u,100)}),await F({type:"link",url:n,keepfocus:o.keepfocus,noscroll:o.noscroll,replace_state:o.replace_state??n.href===location.href,event:t})}),j.addEventListener("submit",t=>{if(t.defaultPrevented)return;const a=HTMLFormElement.prototype.cloneNode.call(t.target),n=t.submitter;if((n?.formTarget||a.target)==="_blank"||(n?.formMethod||a.method)!=="get")return;const i=new URL(n?.hasAttribute("formaction")&&n?.formAction||a.action);if(be(i,U,!1))return;const o=t.target,c=X(o);if(c.reload)return;t.preventDefault(),t.stopPropagation();const f=new FormData(o,n);i.search=new URLSearchParams(f).toString(),F({type:"form",url:i,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??i.href===location.href,event:t})}),addEventListener("popstate",async t=>{if(!ge){if(t.state?.[D]){const a=t.state[D];if(x={},a===A)return;const n=N[a],r=t.state[He]??{},s=new URL(t.state[ut]??location.href),i=t.state[K],o=g.url?le(location)===le(g.url):!1;if(i===T&&(Xe||o)){r!==P.state&&(P.state=r),e(s),N[A]=oe(),n&&scrollTo(n.x,n.y),A=a;return}const f=a-A;await F({type:"popstate",url:s,popped:{state:r,scroll:n,delta:f},accept:()=>{A=a,T=i},block:()=>{history.go(-f)},nav_token:x,event:t})}else if(!M){const a=new URL(location.href);e(a),b.hash&&location.reload()}}}),addEventListener("hashchange",()=>{M&&(M=!1,history.replaceState({...history.state,[D]:++A,[K]:T},"",location.href))});for(const t of document.querySelectorAll("link"))Ht.has(t.rel)&&(t.href=t.href);addEventListener("pageshow",t=>{t.persisted&&O.navigating.set(de.current=null)});function e(t){g.url=P.url=t,O.page.set(Ue(P)),O.page.notify()}}async function ta(e,{status:t=200,error:a,node_ids:n,params:r,route:s,server_route:i,data:o,form:c}){Ae=!0;const f=new URL(location.href);let d;({params:r={},route:s={id:null}}=await ie(f,!1)||{}),d=Se.find(({id:l})=>l===s.id);let p,u=!0;try{const l=n.map(async(y,E)=>{const _=o[E];return _?.uses&&(_.uses=st(_.uses)),Te({loader:b.nodes[y],url:f,params:r,route:s,parent:async()=>{const L={};for(let m=0;m<E;m+=1)Object.assign(L,(await l[m]).data);return L},server_data_node:Le(_)})}),h=await Promise.all(l);if(d){const y=d.layouts;for(let E=0;E<y.length;E++)y[E]||h.splice(E,0,void 0)}p=ae({url:f,params:r,branch:h,status:t,error:a,form:c,route:d??null})}catch(l){if(l instanceof we){await B(new URL(l.location,location.href));return}p=await se({status:J(l),error:await $(l,{url:f,params:r,route:s}),url:f,route:s}),e.textContent="",u=!1}p.props.page&&(p.props.page.state={}),await et(p,e,u)}async function ot(e,t){const a=new URL(e);a.pathname=qt(e.pathname),e.pathname.endsWith("/")&&a.searchParams.append(Dt,"1"),a.searchParams.append(Nt,t.map(s=>s?"1":"0").join(""));const n=window.fetch,r=await n(a.href,{});if(!r.ok){let s;throw r.headers.get("content-type")?.includes("application/json")?s=await r.json():r.status===404?s="Not Found":r.status===500&&(s="Internal Error"),new re(r.status,s)}return new Promise(async s=>{const i=new Map,o=r.body.getReader();function c(d){return Ot(d,{...b.decoders,Promise:p=>new Promise((u,l)=>{i.set(p,{fulfil:u,reject:l})})})}let f="";for(;;){const{done:d,value:p}=await o.read();if(d&&!f)break;for(f+=!p&&f?`
`:yt.decode(p,{stream:!0});;){const u=f.indexOf(`
`);if(u===-1)break;const l=JSON.parse(f.slice(0,u));if(f=f.slice(u+1),l.type==="redirect")return s(l);if(l.type==="data")l.nodes?.forEach(h=>{h?.type==="data"&&(h.uses=st(h.uses),h.data=c(h.data))}),s(l);else if(l.type==="chunk"){const{id:h,data:y,error:E}=l,_=i.get(h);i.delete(h),E?_.reject(c(E)):_.fulfil(c(y))}}}})}function st(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!e?.parent,route:!!e?.route,url:!!e?.url,search_params:new Set(e?.search_params??[])}}let ge=!1;function aa(e,t=null){const a=document.querySelector("[autofocus]");if(a)a.focus();else{const n=it(e);if(n&&document.getElementById(n)){const{x:s,y:i}=t??oe();setTimeout(()=>{const o=history.state;ge=!0,location.replace(`#${n}`),b.hash&&location.replace(e.hash),history.replaceState(o,"",e.hash),scrollTo(s,i),ge=!1})}else{const s=document.body,i=s.getAttribute("tabindex");s.tabIndex=-1,s.focus({preventScroll:!0,focusVisible:!1}),i!==null?s.setAttribute("tabindex",i):s.removeAttribute("tabindex")}const r=getSelection();if(r&&r.type!=="None"){const s=[];for(let i=0;i<r.rangeCount;i+=1)s.push(r.getRangeAt(i));setTimeout(()=>{if(r.rangeCount===s.length){for(let i=0;i<r.rangeCount;i+=1){const o=s[i],c=r.getRangeAt(i);if(o.commonAncestorContainer!==c.commonAncestorContainer||o.startContainer!==c.startContainer||o.endContainer!==c.endContainer||o.startOffset!==c.startOffset||o.endOffset!==c.endOffset)return}r.removeAllRanges()}})}}}function Pe(e,t,a,n){let r,s;const i=new Promise((c,f)=>{r=c,s=f});return i.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:e.route?.id??null},url:e.url},to:a&&{params:t?.params??null,route:{id:t?.route?.id??null},url:a},willUnload:!t,type:n,complete:i},fulfil:r,reject:s}}function Ue(e){return{data:e.data,error:e.error,form:e.form,params:e.params,route:e.route,state:e.state,status:e.status,url:e.url}}function na(e){const t=new URL(e);return t.hash=decodeURIComponent(e.hash),t}function it(e){let t;if(b.hash){const[,,a]=e.hash.split("#",3);t=a??""}else t=e.hash.slice(1);return decodeURIComponent(t)}export{la as a,fa as g,O as s};
